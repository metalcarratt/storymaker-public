{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?cf7b","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store.js","webpack:///./src/pages/Home.vue?478b","webpack:///./src/firebase.js","webpack:///./src/pages/images/images.js","webpack:///./src/pages/editor/editor.js","webpack:///src/pages/Home.vue","webpack:///./src/pages/Home.vue?2c60","webpack:///./src/pages/Home.vue","webpack:///./src/pages/Menu.vue?8154","webpack:///src/pages/Menu.vue","webpack:///./src/pages/Menu.vue?95f1","webpack:///./src/pages/Menu.vue","webpack:///./src/pages/editor/Editor.vue?942c","webpack:///src/pages/editor/Editor.vue","webpack:///./src/pages/editor/Editor.vue?9dce","webpack:///./src/pages/editor/Editor.vue","webpack:///./src/pages/editor/Scenes.vue?e20a","webpack:///./src/components/UploadFile.vue?ca47","webpack:///src/components/UploadFile.vue","webpack:///./src/components/UploadFile.vue?0d64","webpack:///./src/components/UploadFile.vue","webpack:///src/pages/editor/Scenes.vue","webpack:///./src/pages/editor/Scenes.vue?96bf","webpack:///./src/pages/editor/Scenes.vue","webpack:///./src/pages/editor/Characters.vue?cab6","webpack:///./src/pages/play/Canvas.vue?2cc5","webpack:///src/pages/play/Canvas.vue","webpack:///./src/pages/play/Canvas.vue?26bf","webpack:///./src/pages/play/Canvas.vue","webpack:///src/pages/editor/Characters.vue","webpack:///./src/pages/editor/Characters.vue?5538","webpack:///./src/pages/editor/Characters.vue","webpack:///./src/pages/editor/Plan.vue?a51e","webpack:///src/pages/editor/Plan.vue","webpack:///./src/pages/editor/Plan.vue?cd55","webpack:///./src/pages/editor/Plan.vue","webpack:///./src/pages/DownloadStory.vue?d78f","webpack:///src/pages/DownloadStory.vue","webpack:///./src/pages/DownloadStory.vue?8854","webpack:///./src/pages/DownloadStory.vue","webpack:///./src/pages/play/Play.vue?f1d7","webpack:///src/pages/play/Play.vue","webpack:///./src/pages/play/Play.vue?e01b","webpack:///./src/pages/play/Play.vue","webpack:///./src/pages/assets/AssetMenu.vue?bd96","webpack:///./src/pages/assets/assets.js","webpack:///src/pages/assets/AssetMenu.vue","webpack:///./src/pages/assets/AssetMenu.vue?7a5b","webpack:///./src/pages/assets/AssetMenu.vue","webpack:///./src/pages/assets/UpdateAssets.vue?1900","webpack:///src/pages/assets/UpdateAssets.vue","webpack:///./src/pages/assets/UpdateAssets.vue?ef80","webpack:///./src/pages/assets/UpdateAssets.vue","webpack:///./src/pages/assets/ViewAssets.vue?803f","webpack:///src/pages/assets/ViewAssets.vue","webpack:///./src/pages/assets/ViewAssets.vue?7104","webpack:///./src/pages/assets/ViewAssets.vue","webpack:///./src/pages/assets/DownloadAssets.vue?a15e","webpack:///src/pages/assets/DownloadAssets.vue","webpack:///./src/pages/assets/DownloadAssets.vue?9b9e","webpack:///./src/pages/assets/DownloadAssets.vue","webpack:///./src/pages/auth/Login.vue?14e2","webpack:///./src/pages/auth/auth.js","webpack:///src/pages/auth/Login.vue","webpack:///./src/pages/auth/Login.vue?7022","webpack:///./src/pages/auth/Login.vue","webpack:///./src/pages/auth/Register.vue?3fd4","webpack:///src/pages/auth/Register.vue","webpack:///./src/pages/auth/Register.vue?f966","webpack:///./src/pages/auth/Register.vue","webpack:///./src/pages/PublicStory.vue?ba99","webpack:///src/pages/PublicStory.vue","webpack:///./src/pages/PublicStory.vue?7088","webpack:///./src/pages/PublicStory.vue","webpack:///./src/routes.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/pages/editor/Scenes.vue?fd24","webpack:///./src/pages/editor/Characters.vue?e820"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","Vue","use","Vuex","Store","state","story","id","uuidv4","scenes","characters","plan","user","stories","assetPacks","getters","console","log","mutations","update","openNew","title","close","save","importAssetsToStory","updates","concat","auth","staticClass","_v","on","newStory","$event","$router","_l","sty","loadStory","_s","db","firebase","firestore","saveWithDb","collection","doc","set","loadWithDb","then","exists","catch","err","load","loadAllWithDb","results","snapshot","forEach","loadAll","search","qp","where","field","saveAssetPack","assetPack","purgedAssetPack","JSON","parse","stringify","scene","saveImage","indexOf","character","loadAssetPack","assetPackId","characterId","loadImage","image","sceneId","getAssetPackList","saveStory","purgedStory","loadStories","storyId","IMAGE_MAP","getInternal","imageId","dbCall","getImageWithDb","getImage","store","commit","saveUsersStories","updatePublicStories","public","usersStories","includes","isPublic","publicBloc","hasStory","loadPublicStory","images","play","back","directives","rawName","expression","domProps","target","composing","$set","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","publicUrl","_e","index","addScene","model","callback","deleteScene","getId","uploadFile","class","labelClass","label","addCharacter","deleteCharacter","width","height","$emit","newItem","item","undefined","$$selectedVal","filter","options","selected","map","val","_value","multiple","sceneIndex","changeScene","characterIndex","changeCharacter","getCharacter","text","getScene","align","downloadStory","nextStep","download","newPack","pack","viewPack","saveUsersAssetPacks","usersAssetPacks","removeAssets","selectedScenesToDelete","selectedCharactersToDelete","addUpdateAssetPack","selectedScenes","selectedCharacters","edit","importToProject","username","password","errorMessage","createUser","login","hash","md5","register","authenticate","valid","routes","path","Home","Menu","Editor","Scenes","Characters","Plan","Play","AssetMenu","UpdateAssets","ViewAssets","DownloadAssets","DownloadStory","Login","Register","PublicStory","router","VueRouter","config","productionTip","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","render","h","App","$mount"],"mappings":"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","file":"js/app.b2c0db77.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"app\">\n        <router-view />\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"App\",\n    mounted() {\n        const user = this.$store.getters.user;\n        if (!user.id && this.$router.currentRoute !== \"/auth/login\") {\n            this.$router.push(\"/auth/login\");\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"styles/global\";\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=504dd03c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex);\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\n// import myLocalStorage from \"@/myLocalStorage.js\";\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        story: {\r\n            id: uuidv4(),\r\n            scenes: [],\r\n            characters: [],\r\n            plan: []\r\n        },\r\n        user: {\r\n            name: \"\",\r\n            id: \"\"\r\n        },\r\n        stories: [], //myLocalStorage.loadStoryKeys(),\r\n        assetPacks: [] //myLocalStorage.loadAssetPackKeys()\r\n    },\r\n    getters: {\r\n        story(state) {\r\n            window.console.log(\"getting story in store\");\r\n            window.console.log(\"story is\");\r\n            window.console.log(state.story);\r\n            return state.story;\r\n        },\r\n        stories(state) {\r\n            return state.stories;\r\n        },\r\n        user(state) {\r\n            return state.user;\r\n        }\r\n        // assetPacks() {\r\n        //     return myLocalStorage.loadAssetPackKeys();\r\n        // },\r\n        // assetPack() {\r\n        //     return id => myLocalStorage.loadAssetPack(id);\r\n        // }\r\n    },\r\n    mutations: {\r\n        update(state, story) {\r\n            window.console.log(\"updating story in store\");\r\n            state.story = story;\r\n        },\r\n        openNew(state) {\r\n            state.story = {\r\n                id: uuidv4(),\r\n                title: \"\",\r\n                scenes: [],\r\n                characters: [],\r\n                plan: []\r\n            }\r\n        },\r\n        close(state) {\r\n            state.story = {}\r\n        },\r\n        save(state, story) {       \r\n            this.state.story = story;\r\n            // myLocalStorage.saveStory(state.story);\r\n            // state.stories = myLocalStorage.loadStoryKeys();\r\n        },\r\n        // load(state, storyId) {\r\n            // state.story = myLocalStorage.loadStory(storyId);\r\n        // },\r\n        // updateAssetPack(state, assetPack) {\r\n        //     myLocalStorage.saveAssetPack(assetPack);\r\n\r\n        // },\r\n        importAssetsToStory(state, updates) {\r\n            if (updates.scenes) {\r\n                state.story.scenes = state.story.scenes.concat(updates.scenes);\r\n            }\r\n            if (updates.characters) {\r\n                state.story.characters = state.story.characters.concat(updates.characters);\r\n            }\r\n        },\r\n        // deleteAssetPack(state, assetPackId) {\r\n        //     myLocalStorage.deleteAssetPack(assetPackId);\r\n        // }\r\n        auth(state, user) {\r\n            state.user = user;\r\n        }\r\n    }\r\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page menu\"},[_c('h1',[_vm._v(\"Story Maker\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.newStory}},[_vm._v(\"New Story\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/assets')}}},[_vm._v(\"Assets\")])]),_c('h2',[_vm._v(\"Stories\")]),_vm._l((_vm.stories),function(sty){return _c('button',{key:sty.id,staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.loadStory(sty)}}},[_vm._v(\" Load \"+_vm._s(sty.title)+\" \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import firebase from 'firebase';\r\n\r\nexport default {\r\n    db() {\r\n        return firebase.firestore();\r\n    },\r\n\r\n    saveWithDb(db, collection, id, data) {\r\n        window.console.log(`Firebase # save [collection: '${collection}' id: '${id}']`);\r\n        db.collection(collection)\r\n            .doc(id)\r\n            .set(data);\r\n    },\r\n\r\n    save(collection, id, data) {\r\n        this.saveWithDb(this.db(), collection, id, data);\r\n    },\r\n\r\n    async loadWithDb(db, collection, id) {\r\n        if (collection && id) {\r\n            window.console.log(`Firebase # load [collection: '${collection}' id: '${id}']`);\r\n            let result = {};\r\n            await db.collection(collection)\r\n                .doc(id)\r\n                .get()\r\n                .then(doc => result = doc.exists ? doc.data() : {})\r\n                .catch(err => window.console.log(\"Error\", err));\r\n            return result;\r\n        }\r\n    },\r\n\r\n    async load(collection, id) {\r\n        return await this.loadWithDb(this.db(), collection, id);\r\n    },\r\n\r\n    async loadAllWithDb(db, collection) {\r\n        window.console.log(`Firebase # load all [collection: ${collection}]`);\r\n        const results = [];\r\n        await db.collection(collection)\r\n            .get()\r\n            .then(snapshot => snapshot.forEach(doc => results.push(doc.data())))\r\n            .catch(err => window.console.log(\"Error\", err));\r\n        return results;\r\n    },\r\n\r\n    async loadAll(collection) {\r\n        return await this.loadAllWithDb(this.db(), collection);\r\n    },\r\n    \r\n    async search(collection, qp) {\r\n        const results = [];\r\n        await this.db().collection(collection)\r\n            .where(qp.field, \"==\", qp.value)\r\n            .get()\r\n            .then(snapshot => snapshot.forEach(doc => results.push(doc.data())))\r\n            .catch(err => window.console.log(\"Error\", err));\r\n        if (results.length > 0) {\r\n            return results[0];\r\n        } else {\r\n            return false;\r\n        }\r\n    },\r\n\r\n\r\n    saveAssetPack(assetPack) {\r\n        window.console.log(\"Firebase # saveAssetPack\");\r\n        window.console.log(assetPack);\r\n        const db = firebase.firestore();\r\n\r\n        let purgedAssetPack = JSON.parse(JSON.stringify(assetPack));\r\n        for (var scene of purgedAssetPack.scenes) {\r\n            this.saveImage(db, scene);\r\n            purgedAssetPack.scenes.splice(purgedAssetPack.scenes.indexOf(scene), 1, scene.id);\r\n        }\r\n        for (var character of purgedAssetPack.characters) {\r\n            this.saveImage(db, character);\r\n            purgedAssetPack.characters.splice(purgedAssetPack.characters.indexOf(character), 1, character.id);\r\n        }\r\n\r\n        this.saveWithDb(db, \"assetPacks\", assetPack.id, purgedAssetPack);\r\n        this.saveWithDb(db, \"assetPackKeys\", assetPack.id, {id: assetPack.id, name: assetPack.name});\r\n    },\r\n\r\n    async loadAssetPack(assetPackId) {\r\n        window.console.log(\"Firebase # loadAssetPack(\" + assetPackId + \")\");\r\n        const db = firebase.firestore();\r\n        let assetPack = await this.loadWithDb(db, \"assetPacks\", assetPackId);\r\n\r\n        for (var characterId of assetPack.characters) {\r\n            const image = await this.loadImage(db, characterId);\r\n            assetPack.characters.splice(assetPack.characters.indexOf(characterId), 1, image);\r\n        }\r\n\r\n        for (var sceneId of assetPack.scenes) {\r\n            const image = await this.loadImage(db, sceneId);\r\n            assetPack.scenes.splice(assetPack.scenes.indexOf(sceneId), 1, image);\r\n        }\r\n\r\n        return assetPack;\r\n    },\r\n\r\n    async getAssetPackList() {\r\n        window.console.log(\"Firebase # getAssetPackList\");\r\n        return await this.loadAll(\"assetPackKeys\");\r\n    },\r\n\r\n    saveImage(db, image) {\r\n        window.console.log(\"Firebase # saveImage\");\r\n        window.console.log(image);\r\n        this.saveWithDb(db, \"images\", image.id, image);\r\n    },\r\n\r\n    async loadImage(db, id) {\r\n        return await this.loadWithDb(db, \"images\", id);\r\n    },\r\n\r\n    saveStory(story) {\r\n        window.console.log(\"Firebase # saveStory\");\r\n        const db = firebase.firestore();\r\n\r\n        let purgedStory = JSON.parse(JSON.stringify(story));\r\n        for (var scene of purgedStory.scenes) {\r\n            this.saveImage(db, scene);\r\n            purgedStory.scenes.splice(purgedStory.scenes.indexOf(scene), 1, scene.id);\r\n        }\r\n        for (var character of purgedStory.characters) {\r\n            this.saveImage(db, character);\r\n            purgedStory.characters.splice(purgedStory.characters.indexOf(character), 1, character.id);\r\n        }\r\n\r\n        this.saveWithDb(db, \"story\", story.id, purgedStory);\r\n        this.saveWithDb(db, \"stories\", story.id, {id: story.id, title: story.title});\r\n    },\r\n\r\n    async loadStories() {\r\n        window.console.log(\"Firebase # loadStories\");\r\n        return await this.loadAll(\"stories\");\r\n    },\r\n\r\n    async loadStory(storyId) {\r\n        window.console.log(\"Firebase # loadStory\");\r\n        const db = this.db();\r\n        let story = await this.loadWithDb(db, \"story\", storyId);\r\n        \r\n        for (var characterId of story.characters) {\r\n            const image = await this.loadImage(db, characterId);\r\n            story.characters.splice(story.characters.indexOf(characterId), 1, image);\r\n        }\r\n    \r\n        for (var sceneId of story.scenes) {\r\n            const image = await this.loadImage(db, sceneId);\r\n            story.scenes.splice(story.scenes.indexOf(sceneId), 1, image);\r\n        }\r\n\r\n        return story;\r\n    }\r\n}","import firebase from \"@/firebase.js\";\r\n\r\nconst IMAGE_MAP = {};\r\n\r\nconst getInternal = async function(imageId, dbCall) {\r\n    if (IMAGE_MAP[imageId]) {\r\n        return IMAGE_MAP[imageId];\r\n    } else {\r\n        const image = await dbCall();\r\n        IMAGE_MAP[imageId] = image;\r\n        return image;\r\n    }\r\n}\r\n\r\nexport default {\r\n    async getImageWithDb(db, imageId) {\r\n        return await getInternal(imageId, () => firebase.loadImage(db, imageId));\r\n    },\r\n\r\n    async getImage(imageId) {\r\n        return await getInternal(imageId, () => this.load(\"images\", imageId));\r\n    }\r\n}","import store from \"@/store.js\";\r\nimport firebase from \"@/firebase.js\";\r\nimport images from \"@/pages/images/images.js\";\r\n\r\nexport default {\r\n    save(story) {\r\n        store.commit(\"save\", story);\r\n\r\n        const db = firebase.db();\r\n    \r\n        let purgedStory = JSON.parse(JSON.stringify(story));\r\n        for (var scene of purgedStory.scenes) {\r\n            firebase.saveImage(db, scene);\r\n            purgedStory.scenes.splice(purgedStory.scenes.indexOf(scene), 1, scene.id);\r\n        }\r\n        for (var character of purgedStory.characters) {\r\n            firebase.saveImage(db, character);\r\n            purgedStory.characters.splice(purgedStory.characters.indexOf(character), 1, character.id);\r\n        }\r\n    \r\n        firebase.saveWithDb(db, \"story\", story.id, purgedStory);\r\n        // firebase.saveWithDb(db, \"stories\", story.id, {id: story.id, title: story.title});\r\n        this.saveUsersStories(db, story);\r\n\r\n        this.updatePublicStories(db, story.id, story.public);\r\n    },\r\n\r\n    async saveUsersStories(db, story) {\r\n        window.console.log(\"saveUsersStories\");\r\n        const user = store.getters.user;\r\n\r\n        let usersStories = await firebase.loadWithDb(db, \"users-stories\", user.id);\r\n        if (!usersStories.stories) {\r\n            usersStories.stories = [];\r\n        }\r\n        if (!usersStories.stories.includes(story.id)) {\r\n            usersStories.stories.push(story.id);\r\n        }\r\n        firebase.saveWithDb(db, \"users-stories\", user.id, usersStories);\r\n    },\r\n\r\n    async updatePublicStories(db, storyId, isPublic) {\r\n        let publicBloc = await firebase.loadWithDb(db, \"public\", \"public\");\r\n        const hasStory  = publicBloc.stories.includes(storyId);\r\n        if (isPublic && !hasStory) {\r\n            publicBloc.stories.push(storyId);\r\n        } else if (!isPublic && hasStory) {\r\n            publicBloc.stories.splice(publicBloc.stories.indexOf(storyId), 1);\r\n        }\r\n        await firebase.saveWithDb(db, \"public\", \"public\", publicBloc);\r\n    },\r\n\r\n    async loadPublicStory(storyId) {\r\n        window.console.log(\"getting story for id \" + storyId);\r\n        const db = firebase.db();\r\n        const publicBloc = await firebase.loadWithDb(db, \"public\", \"public\");\r\n        if (publicBloc.stories.includes(storyId)) {\r\n            window.console.log(\"found in public\");\r\n            return await firebase.loadWithDb(db, \"story\", storyId);\r\n        }\r\n    },\r\n\r\n    async loadStories() {\r\n        window.console.log(\"loadStories\");\r\n        const user = store.getters.user;\r\n        if (user) {\r\n            const usersStories = await firebase.load(\"users-stories\", user.id);\r\n            let stories = [];\r\n            if (usersStories && usersStories.stories) {\r\n                for (let storyId of usersStories.stories) {\r\n                    const story = await firebase.load(\"story\", storyId);\r\n                    stories.push(story);\r\n                }\r\n            }\r\n            return stories;\r\n        }\r\n        return [];\r\n    },\r\n\r\n    async loadStory(story) {\r\n        window.console.log(\"loadStory\");\r\n        const db = firebase.db();\r\n\r\n        for (var characterId of story.characters) {\r\n            story.characters.splice(story.characters.indexOf(characterId), 1, await images.getImageWithDb(db, characterId));\r\n        }\r\n    \r\n        for (var sceneId of story.scenes) {\r\n            story.scenes.splice(story.scenes.indexOf(sceneId), 1, await images.getImageWithDb(db, sceneId));\r\n        }\r\n\r\n        return story;\r\n    }\r\n}","<template>\r\n    <div class=\"page menu\">\r\n        <h1>Story Maker</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"newStory\">New Story</button>\r\n            <button class=\"button\" @click=\"$router.push('/assets')\">Assets</button>\r\n        </span>\r\n        <h2>Stories</h2>\r\n        <button class=\"wideMenu button\" v-for=\"sty in stories\" :key=\"sty.id\" @click=\"loadStory(sty)\">\r\n            Load {{ sty.title }}\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport editor from \"./editor/editor.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            stories: []\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.stories = await editor.loadStories();\r\n    },\r\n    methods: {\r\n        newStory() {\r\n            this.$store.commit(\"openNew\");\r\n            this.$router.push(\"/edit\");\r\n        },\r\n        async loadStory(story) {\r\n            story = await editor.loadStory(story);\r\n            this.$store.commit(\"save\", story);\r\n            this.$router.push(\"/menu\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=078ce2ae&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.story.title ? _vm.story.title : \"New Story\"))]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Edit\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/assets')}}},[_vm._v(\"Assets\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/play')}}},[_vm._v(\"Play\")])]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.close}},[_vm._v(\"Close\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ story.title ? story.title : \"New Story\" }}</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Edit</button>\r\n            <button class=\"button\" @click=\"$router.push('/assets')\">Assets</button>\r\n            <button class=\"button\" @click=\"$router.push('/play')\">Play</button>\r\n        </span>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"close\">Close</button>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            importedStory: {}\r\n        }\r\n    },\r\n    computed: {\r\n        story() {\r\n            window.console.log(\"getting story\");\r\n            return this.$store.getters.story;\r\n        }\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.$store.commit(\"close\");\r\n            this.$router.push(\"/\");\r\n        },\r\n        download(data, filename, type) {\r\n            var file = new Blob([data], {type: type});\r\n            if (window.navigator.msSaveOrOpenBlob) {// IE10+\r\n                window.navigator.msSaveOrOpenBlob(file, filename);\r\n            } else { // Others\r\n                var a = document.createElement(\"a\"),\r\n                url = URL.createObjectURL(file);\r\n                a.href = url;\r\n                a.download = filename;\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                setTimeout(function() {\r\n                    document.body.removeChild(a);\r\n                    window.URL.revokeObjectURL(url);  \r\n                }, 0); \r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=991de05c&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Story Maker - Editor\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.play}},[_vm._v(\"Play\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")])]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Story title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.story.title),expression:\"story.title\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.story.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.story, \"title\", $event.target.value)}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Public:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.story.public),expression:\"story.public\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.story.public)?_vm._i(_vm.story.public,null)>-1:(_vm.story.public)},on:{\"change\":function($event){var $$a=_vm.story.public,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.story, \"public\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.story, \"public\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.story, \"public\", $$c)}}}})]),(_vm.story.public)?_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Url:\")]),_c('a',{attrs:{\"href\":_vm.publicUrl}},[_vm._v(_vm._s(_vm.publicUrl))])]):_vm._e(),_c('h2',[_vm._v(\"Scenes\")]),_c('p',[_vm._v(_vm._s(_vm.story.scenes ? _vm.story.scenes.length : 0)+\" scenes\")]),_c('ul',_vm._l((_vm.story.scenes),function(scene,index){return _c('li',{key:index},[_vm._v(_vm._s(scene.name))])}),0),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/scenes')}}},[_vm._v(\"Edit Scenes\")]),_c('h2',[_vm._v(\"Characters\")]),_c('p',[_vm._v(_vm._s(_vm.story.characters ? _vm.story.characters.length : 0)+\" characters\")]),_c('ul',_vm._l((_vm.story.characters),function(character,index){return _c('li',{key:index},[_vm._v(_vm._s(character.name))])}),0),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/characters')}}},[_vm._v(\"Edit Characters\")]),_c('h2',[_vm._v(\"Plan\")]),_c('p',[_vm._v(_vm._s(_vm.story.plan ? _vm.story.plan.length : 0)+\" steps in plan\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/plan')}}},[_vm._v(\"Edit Plan\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Story Maker - Editor</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"save\">Save</button>\r\n            <button class=\"button\" @click=\"play\">Play</button>\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n        </span>\r\n        \r\n        <span class=\"field\">\r\n            <label>Story title</label>\r\n            <input type=\"text\" v-model=\"story.title\" />\r\n        </span>\r\n\r\n        <span class=\"field\">\r\n            <label>Public:</label>\r\n            <input type=\"checkbox\" v-model=\"story.public\" />\r\n        </span>\r\n        <span class=\"field\" v-if=\"story.public\">\r\n            <label>Url:</label>\r\n            <a :href=\"publicUrl\">{{ publicUrl }}</a>\r\n        </span>\r\n\r\n        <h2>Scenes</h2>\r\n        <p>{{ story.scenes ? story.scenes.length : 0 }} scenes</p>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in story.scenes\" :key=\"index\">{{ scene.name }}</li>\r\n        </ul>\r\n        <button class=\"button\" @click=\"$router.push('/edit/scenes')\">Edit Scenes</button>\r\n\r\n        <h2>Characters</h2>\r\n        <p>{{ story.characters ? story.characters.length : 0 }} characters</p>\r\n        <ul>\r\n            <li v-for=\"(character, index) in story.characters\" :key=\"index\">{{ character.name }}</li>\r\n        </ul>\r\n        <button class=\"button\" @click=\"$router.push('/edit/characters')\">Edit Characters</button>\r\n\r\n        <h2>Plan</h2>\r\n        <p>{{ story.plan ? story.plan.length : 0 }} steps in plan</p>\r\n        <button class=\"button\" @click=\"$router.push('/edit/plan')\">Edit Plan</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport editor from \"./editor.js\";\r\n\r\nexport default {\r\n    name: 'Editor',\r\n    data() {\r\n        return {\r\n            uploadStory: \"\",\r\n            story: {}\r\n        }\r\n    },\r\n    mounted() {\r\n        this.story = this.$store.getters.story;\r\n    },\r\n    methods: {\r\n        play() {\r\n            editor.save(this.story);\r\n            this.$router.push('/play');\r\n        },\r\n        back() {\r\n            editor.save(this.story);\r\n            this.$router.push('/menu');\r\n        },\r\n        save() {\r\n            editor.save(this.story);\r\n        }\r\n    },\r\n    computed: {\r\n        publicUrl() {\r\n            return \"https://metalcarratt.github.io/storymaker-public/#/public/\" + this.story.id;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=d2e621da&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Scenes\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.addScene}},[_vm._v(\"New Scene\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist box\"},_vm._l((_vm.scenes),function(scene){return _c('li',{key:scene.id},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scene.name),expression:\"scene.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(scene.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scene, \"name\", $event.target.value)}}}),_c('img',{attrs:{\"src\":scene.image}}),_c('span',{staticClass:\"buttons\"},[_c('UploadFile',{attrs:{\"id\":'uploadScene' + scene.id},model:{value:(scene.image),callback:function ($$v) {_vm.$set(scene, \"image\", $$v)},expression:\"scene.image\"}}),_c('button',{staticClass:\"button danger\",on:{\"click\":function($event){return _vm.deleteScene(scene)}}},[_vm._v(\"Delete\")])],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"upload\"},[_c('input',{attrs:{\"id\":_vm.getId,\"type\":\"file\"},on:{\"change\":function($event){return _vm.uploadFile($event)}}}),_c('label',{class:['button', _vm.labelClass],attrs:{\"for\":_vm.getId}},[_vm._v(_vm._s(_vm.label ? _vm.label : 'Upload'))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span class=\"upload\">\r\n        <input :id=\"getId\" type=\"file\" @change=\"uploadFile($event)\" />\r\n        <label :for=\"getId\" :class=\"['button', labelClass]\">{{ label ? label : 'Upload' }}</label>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: [\"value\", \"text\", \"id\", \"label\", \"labelClass\"],\r\n    data() {\r\n        return {\r\n            reader: new FileReader()\r\n        }\r\n    },\r\n    mounted() {\r\n        this.reader.addEventListener(\"load\", this.whenFileLoaded, false);\r\n    },\r\n    computed: {\r\n        getId() {\r\n            return this.id ? this.id : \"file\";\r\n        }\r\n    },\r\n    methods: {\r\n        uploadFile(event) {\r\n            window.console.log(\"upload file clicked\");\r\n            var file = event.target.files[0];\r\n            if (this.text) {\r\n                window.console.log(\"it's text\");\r\n                this.reader.readAsText(file);\r\n            } else {\r\n                this.reader.readAsDataURL(file);\r\n            }\r\n        },\r\n        whenFileLoaded() {\r\n            window.console.log(\"file loaded\");\r\n            this.$emit(\"input\", this.reader.result);\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadFile.vue?vue&type=template&id=199811ac&\"\nimport script from \"./UploadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <h2>Scenes</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"addScene\">New Scene</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist box\">\r\n            <li v-for=\"scene in scenes\" :key=\"scene.id\">\r\n                <input type=\"text\" v-model=\"scene.name\" placeholder=\"Name\" />\r\n                <img :src=\"scene.image\" />\r\n                <span class=\"buttons\">\r\n                    <UploadFile v-model=\"scene.image\" :id=\"'uploadScene' + scene.id\" />\r\n                    <button class=\"button danger\" @click=\"deleteScene(scene)\">Delete</button>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadFile from \"@/components/UploadFile.vue\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default {\r\n    components: { UploadFile },\r\n    data() {\r\n        return {\r\n            scenes: [],\r\n            checkedScenes: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.scenes = this.$store.getters.story.scenes;\r\n    },\r\n    methods: {\r\n        addScene() {\r\n            this.scenes.push({\r\n                id: uuidv4(),\r\n                name: \"\",\r\n                image: \"\"\r\n            });\r\n        },\r\n        deleteScene(scene) {\r\n            this.scenes.splice(this.scenes.indexOf(scene), 1);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n    display: inline-block;\r\n    max-height: 400px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scenes.vue?vue&type=template&id=37e6d2f1&scoped=true&\"\nimport script from \"./Scenes.vue?vue&type=script&lang=js&\"\nexport * from \"./Scenes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37e6d2f1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Characters\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.addCharacter}},[_vm._v(\"New Character\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist box\"},_vm._l((_vm.characters),function(character){return _c('li',{key:character.id},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.name),expression:\"character.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(character.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"name\", $event.target.value)}}}),_c('img',{attrs:{\"src\":character.image}}),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Speech Box Colour\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.colour),expression:\"character.colour\"}],attrs:{\"type\":\"color\"},domProps:{\"value\":(character.colour)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"colour\", $event.target.value)}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Y-Offset\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.yoffset),expression:\"character.yoffset\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(character.yoffset)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"yoffset\", $event.target.value)}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Scale\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.scale),expression:\"character.scale\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(character.scale)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"scale\", $event.target.value)}}})]),_c('Canvas',{attrs:{\"id\":'canvas' + character.id,\"width\":304,\"height\":190,\"character\":character,\"text\":\"Hi\"}}),_c('span',{staticClass:\"buttons\"},[_c('UploadFile',{attrs:{\"id\":'uploadCharacter' + character.id},model:{value:(character.image),callback:function ($$v) {_vm.$set(character, \"image\", $$v)},expression:\"character.image\"}}),_c('button',{staticClass:\"button danger\",on:{\"click\":function($event){return _vm.deleteCharacter(character)}}},[_vm._v(\"Delete\")])],1)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":_vm.id,\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":function($event){return _vm.$emit('nextStep')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <canvas :id=\"id\" :width=\"width\" :height=\"height\" @click=\"$emit('nextStep')\" />\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport jcanvas from 'jcanvas';\r\n\r\njcanvas($, window);\r\n\r\nexport default {\r\n    props: [\"id\", \"width\", \"height\", \"scene\", \"character\", \"text\", \"align\"],\r\n    data() {\r\n        return {\r\n            characterImageMeta: {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        window.console.log(\"\");\r\n        window.console.log(this.id + \" mounted\");\r\n        this.loadMetadata();\r\n        this.draw();\r\n    },\r\n    watch: {\r\n        scene: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" scene updated\");\r\n                this.draw();\r\n            },\r\n            deep: true\r\n        },\r\n        character: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" character updated\");\r\n                this.loadMetadata();\r\n            },\r\n            deep: true\r\n        },\r\n        characterImageMeta: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" image meta updated\");\r\n                this.draw();\r\n            },\r\n            deep: true\r\n        },\r\n        text() {\r\n            window.console.log(\"\");\r\n            window.console.log(this.id + \" text updated\");\r\n            this.draw();\r\n        }\r\n    },\r\n    computed: {\r\n        xscale() {\r\n            return this.width / 800;\r\n        },\r\n        yscale() {\r\n            return this.height / 500;\r\n        }\r\n    },\r\n    methods: {\r\n        draw() {\r\n            window.console.log(this.id + \" draw ******\");\r\n            window.console.log(\"scene? \" + (this.scene !== false));\r\n            window.console.log(\"character? \" + (this.character !== false));\r\n            const canvas = this.id ? $(\"#\" + this.id) : $(\"canvas\");\r\n            canvas.clearCanvas();\r\n\r\n            this.drawBorder(canvas);\r\n            this.drawScene(canvas);\r\n            this.drawCharacter(canvas);\r\n            this.drawText(canvas);\r\n        },\r\n        drawBorder(canvas) {\r\n            canvas.drawRect({\r\n                strokeStyle: '#c33',\r\n                strokeWidth: 1,\r\n                x: 1,\r\n                y: 1,\r\n                width: this.width - 2,\r\n                height: this.height - 2,\r\n                fromCenter: false\r\n            });\r\n        },\r\n        drawScene(canvas) {\r\n            if (this.scene && this.scene.image) {\r\n                canvas.drawImage({\r\n                    source: this.scene.image,\r\n                    x: 2,\r\n                    y: 2,\r\n                    width: this.width - 4,\r\n                    height: this.height - 4,\r\n                    scale: 1,\r\n                    fromCenter: false\r\n                });\r\n            }\r\n        },\r\n        drawCharacter(canvas) {\r\n            if (this.character && this.character.image) {\r\n                const y = 200 * this.yscale + (this.character.yoffset ? parseInt(this.character.yoffset) * 5 : 0);\r\n                const characterScale = this.character.scale ? parseFloat(this.character.scale) : 1;\r\n                window.console.log(\"width: \" + this.characterImageMeta.width * this.xscale);\r\n                window.console.log(\"height: \" + this.characterImageMeta.height * this.yscale);\r\n\r\n                let x = 0;\r\n                if (this.align === \"Right\") {\r\n                    x = (780 - this.characterImageMeta.width) * this.xscale;\r\n                } else if (this.align === \"Center\") {\r\n                    x = (400 - (this.characterImageMeta.width / 2)) * this.xscale;\r\n                } else {\r\n                    x = 10 * this.xscale;\r\n                }\r\n\r\n                canvas.drawImage({\r\n                    source: this.character.image,\r\n                    x: x,\r\n                    y: y,\r\n                    width: this.characterImageMeta.width * this.xscale * characterScale,\r\n                    height: this.characterImageMeta.height * this.yscale * characterScale,\r\n                    fromCenter: false\r\n                });\r\n                \r\n            }\r\n        },\r\n        drawText(canvas) {\r\n            const bgCol = this.character.colour ? this.character.colour : '#69A0D7';\r\n            const bgBorderCol = '#2D4258';\r\n            const textCol = '#ECF3FA';\r\n            // write text\r\n            canvas.drawRect({\r\n                fillStyle: bgCol,\r\n                x: 20 * this.xscale,\r\n                y: 20 * this.yscale,\r\n                width: 770 * this.xscale,\r\n                height: 80 * this.yscale,\r\n                fromCenter: false,\r\n                cornerRadius: 4\r\n            });\r\n            canvas.drawRect({\r\n                strokeStyle: bgBorderCol,\r\n                x: 24 * this.xscale,\r\n                y: 24 * this.yscale,\r\n                width: 762 * this.xscale,\r\n                height: 72 * this.yscale,\r\n                fromCenter: false,\r\n                cornerRadius: 2\r\n            });\r\n            canvas.drawText({\r\n                name: \"drawText\",\r\n                fillStyle: textCol,\r\n                strokeWidth: 1,\r\n                x: 34 * this.xscale, y: 34 * this.yscale,\r\n                fontSize: (18 * this.xscale) + 'pt',\r\n                fromCenter: false,\r\n                text: \"\\\"\" + this.text + \"\\\"\"\r\n            });\r\n            canvas.drawText({\r\n                name: \"drawText\",\r\n                fillStyle: textCol,\r\n                strokeWidth: 1,\r\n                x: 45 * this.xscale, y: 74 * this.yscale,\r\n                fontSize: (18 * this.xscale) + 'pt',\r\n                text: \"...\"\r\n            });\r\n        },\r\n        loadMetadata() {\r\n            let img = new Image();\r\n\r\n            img.onload = () => {\r\n                window.console.log(\"loaded metadata\");\r\n                this.characterImageMeta.width = img.width;\r\n                this.characterImageMeta.height = img.height;\r\n                this.draw();\r\n            }\r\n\r\n            img.src = this.character.image;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=6a3fc4d7&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <h2>Characters</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"addCharacter\">New Character</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist box\">\r\n            <li v-for=\"character in characters\" :key=\"character.id\">\r\n                <input type=\"text\" v-model=\"character.name\" placeholder=\"Name\" />\r\n                <img :src=\"character.image\" />\r\n                <span class=\"field\">\r\n                    <label>Speech Box Colour</label>\r\n                    <input type=\"color\" v-model=\"character.colour\" />\r\n                </span>\r\n                <span class=\"field\">\r\n                    <label>Y-Offset</label>\r\n                    <input type=\"number\" v-model=\"character.yoffset\" />\r\n                </span>\r\n                <span class=\"field\">\r\n                    <label>Scale</label>\r\n                    <input type=\"number\" v-model=\"character.scale\" />\r\n                </span>\r\n                <Canvas :id=\"'canvas' + character.id\" :width=\"304\" :height=\"190\" :character=\"character\" text=\"Hi\" />\r\n                <span class=\"buttons\">\r\n                    <UploadFile v-model=\"character.image\" :id=\"'uploadCharacter' + character.id\" />\r\n                    <button class=\"button danger\" @click=\"deleteCharacter(character)\">Delete</button>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadFile from \"@/components/UploadFile.vue\";\r\nimport Canvas from \"@/pages/play/Canvas.vue\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default {\r\n    components: { UploadFile, Canvas },\r\n    data() {\r\n        return {\r\n            characters: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.characters = this.$store.getters.story.characters;\r\n    },\r\n    methods: {\r\n        addCharacter() {\r\n            this.characters.push({\r\n                id: uuidv4(),\r\n                name: \"\",\r\n                image: \"\",\r\n                colour: \"#69A0D7\",\r\n                yoffset: 0,\r\n                scale: 1\r\n            });\r\n        },\r\n        deleteCharacter(character) {\r\n            this.characters.splice(this.characters.indexOf(character), 1);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n    display: inline-block;\r\n    max-height: 400px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Characters.vue?vue&type=template&id=7ad5c17b&scoped=true&\"\nimport script from \"./Characters.vue?vue&type=script&lang=js&\"\nexport * from \"./Characters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ad5c17b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Plan\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.newItem}},[_vm._v(\"New\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist\"},_vm._l((_vm.plan),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(index + 1))]),_c('span',{staticClass:\"content\"},[(item.scene !== undefined)?_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Scene: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.scene),expression:\"item.scene\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"scene\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.scenes),function(scene,sceneIndex){return _c('option',{key:sceneIndex},[_vm._v(_vm._s(scene.name))])}),0)]):_c('button',{staticClass:\"button small\",on:{\"click\":function($event){return _vm.changeScene(item)}}},[_vm._v(\"Change scene\")]),(item.character !== undefined)?_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Character: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.character),expression:\"item.character\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"character\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.characters),function(character,characterIndex){return _c('option',{key:characterIndex},[_vm._v(_vm._s(character.name))])}),0)]):_c('button',{staticClass:\"button small\",on:{\"click\":function($event){return _vm.changeCharacter(item)}}},[_vm._v(\"Change character\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Align: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.align),expression:\"item.align\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"align\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"Left\")]),_c('option',[_vm._v(\"Center\")]),_c('option',[_vm._v(\"Right\")])])]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Message: \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.text),expression:\"item.text\"}],domProps:{\"value\":(item.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"text\", $event.target.value)}}})])]),_c('Canvas',{staticClass:\"sidebyside\",attrs:{\"id\":'canvas' + index,\"width\":304,\"height\":190,\"character\":_vm.getCharacter(item.character),\"text\":item.text,\"scene\":_vm.getScene(item.scene),\"align\":item.align}})],1)}),0),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.newItem}},[_vm._v(\"New\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h2>Plan</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"newItem\">New</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist\">\r\n            <li v-for=\"(item, index) in plan\" :key=\"index\">\r\n                <span class=\"number\">{{ index + 1 }}</span>\r\n                <span class=\"content\">\r\n                    <span v-if=\"item.scene !== undefined\" class=\"field\">\r\n                        <label>Scene: </label>\r\n                        <select v-model=\"item.scene\">\r\n                            <option v-for=\"(scene, sceneIndex) in scenes\" :key=\"sceneIndex\">{{ scene.name }}</option>\r\n                        </select>\r\n                    </span>\r\n                    <button class=\"button small\" v-else @click=\"changeScene(item)\">Change scene</button>\r\n\r\n                    <span v-if=\"item.character !== undefined\" class=\"field\">\r\n                        <label>Character: </label>\r\n                        <select v-model=\"item.character\">\r\n                            <option v-for=\"(character, characterIndex) in characters\" :key=\"characterIndex\">{{ character.name }}</option>\r\n                        </select>\r\n                    </span>\r\n                    <button class=\"button small\" v-else @click=\"changeCharacter(item)\">Change character</button>\r\n\r\n                    <span class=\"field\">\r\n                        <label>Align: </label>\r\n                        <select v-model=\"item.align\">\r\n                            <option>Left</option>\r\n                            <option>Center</option>\r\n                            <option>Right</option>\r\n                        </select>\r\n                    </span>\r\n\r\n                    <span class=\"field\">\r\n                        <label>Message: </label>\r\n                        <textarea v-model=\"item.text\"></textarea>\r\n                    </span>\r\n                </span>\r\n                <Canvas class=\"sidebyside\" :id=\"'canvas' + index\" :width=\"304\" :height=\"190\" :character=\"getCharacter(item.character)\" :text=\"item.text\" :scene=\"getScene(item.scene)\" :align=\"item.align\" />\r\n            </li>\r\n        </ul>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"newItem\">New</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Canvas from \"@/pages/play/Canvas.vue\";\r\n\r\nexport default {\r\n    components: { Canvas },\r\n    data() {\r\n        return {\r\n            plan: [],\r\n            scenes: [],\r\n            characters: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.plan = this.$store.getters.story.plan;\r\n        this.scenes = this.$store.getters.story.scenes;\r\n        this.characters = this.$store.getters.story.characters;\r\n    },\r\n    methods: {\r\n        newItem() {\r\n            this.plan.push({scene: undefined, character: undefined, text: \"\", align: \"Left\"});\r\n        },\r\n        changeScene(item) {\r\n            item.scene = \"\";\r\n        },\r\n        changeCharacter(item) {\r\n            item.character = \"\";\r\n        },\r\n        getCharacter(name) {\r\n            return this.characters.find(ch => ch.name === name);\r\n        },\r\n        getScene(name) {\r\n            if (name) {\r\n                return this.scenes.find(sc => sc.name === name);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Plan.vue?vue&type=template&id=2f214820&\"\nimport script from \"./Plan.vue?vue&type=script&lang=js&\"\nexport * from \"./Plan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Download Story from Cloud\")]),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"Back\")])]),_vm._l((_vm.stories),function(story){return _c('button',{key:story.id,staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.downloadStory(story.id)}}},[_vm._v(_vm._s(story.title))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Download Story from Cloud</h1>\r\n        <div class=\"buttons\">\r\n            <button @click=\"$router.push('/')\" class=\"button\">Back</button>\r\n        </div>\r\n\r\n        <button class=\"wideMenu button\" v-for=\"story in stories\" :key=\"story.id\" @click=\"downloadStory(story.id)\">{{ story.title }}</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"@/firebase.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            stories: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.stories = firebase.loadStories();\r\n    },\r\n    methods: {\r\n        async downloadStory(storyId) {\r\n            const story = await firebase.loadStory(storyId);\r\n            this.$store.commit(\"save\", story);\r\n            this.$store.commit(\"load\", story.id);\r\n            this.$router.push(\"/menu\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadStory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadStory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DownloadStory.vue?vue&type=template&id=6515571f&\"\nimport script from \"./DownloadStory.vue?vue&type=script&lang=js&\"\nexport * from \"./DownloadStory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.story.title))]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_vm._v(\"Stop\")])]),_c('Canvas',{attrs:{\"id\":\"canvas1\",\"width\":800,\"height\":500,\"scene\":this.scene,\"character\":this.character,\"text\":_vm.text,\"align\":_vm.align},on:{\"nextStep\":_vm.nextStep}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ story.title }}</h1>\r\n        <span class=\"buttons\">\r\n            <button @click=\"$router.push('/menu')\" class=\"button\">Stop</button>\r\n        </span>\r\n        <Canvas id=\"canvas1\" :width=\"800\" :height=\"500\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" :align=\"align\" />\r\n        <!--\r\n        <Canvas id=\"canvas2\" :width=\"480\" :height=\"300\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" />\r\n        <Canvas id=\"canvas3\" :width=\"320\" :height=\"200\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" />\r\n        -->\r\n        <!--<canvas width=\"800\" height=\"500\" @click=\"nextStep\" />-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport jcanvas from 'jcanvas';\r\nimport Canvas from \"./Canvas.vue\";\r\n\r\njcanvas($, window);\r\n\r\nexport default {\r\n    name: \"Play\",\r\n    components: { Canvas },\r\n    data() {\r\n        return {\r\n            story: {},\r\n            scene: {},\r\n            character: {},\r\n            characterImageMeta: {\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            text: \"\",\r\n            index: 0,\r\n            align: \"Left\"\r\n        }\r\n    },\r\n    mounted() {\r\n        this.story = this.$store.getters.story;\r\n        this.index = 0;\r\n        this.update();\r\n    },\r\n    methods: {\r\n        update() {\r\n            const planItem = this.story.plan[this.index];\r\n            if (planItem.scene) {\r\n                this.scene = this.story.scenes.find(scene => scene.name === planItem.scene);\r\n            }\r\n            if (planItem.character) {\r\n                this.character = this.story.characters.find(character => character.name === planItem.character);\r\n            }\r\n            if (planItem.text) {\r\n                this.text = planItem.text;\r\n            }\r\n            this.align = planItem.align;\r\n            this.loadMetadataAndDraw();\r\n        },\r\n        nextStep() {\r\n            this.index++;\r\n            if (this.index >= this.story.plan.length) {\r\n                this.$router.push(\"/\");\r\n            } else {\r\n                this.update();\r\n            }\r\n        },\r\n        loadMetadataAndDraw() {\r\n            let img = new Image();\r\n\r\n            img.onload = () => {\r\n                this.characterImageMeta.width = img.width;\r\n                this.characterImageMeta.height = img.height;\r\n                // this.draw();\r\n            }\r\n\r\n            img.src = this.character.image;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Play.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Play.vue?vue&type=template&id=363190fa&\"\nimport script from \"./Play.vue?vue&type=script&lang=js&\"\nexport * from \"./Play.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page menu\"},[_c('h2',[_vm._v(\"Asset Packs\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")]),_c('button',{staticClass:\"button\",attrs:{\"title\":\"Download new asset packs from the cloud\"},on:{\"click\":_vm.download}},[_vm._v(\"Download\")]),_c('button',{staticClass:\"button\",attrs:{\"title\":\"Create a new asset pack\"},on:{\"click\":_vm.newPack}},[_vm._v(\"New\")])]),_vm._l((_vm.assetPacks),function(pack){return _c('button',{key:pack.id,staticClass:\"wideMenu button\",attrs:{\"title\":'View asset pack ' + pack.name},on:{\"click\":function($event){return _vm.viewPack(pack)}}},[_vm._v(_vm._s(pack.name))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from \"@/store.js\";\r\nimport firebase from \"@/firebase.js\";\r\nimport images from \"@/pages/images/images.js\";\r\n\r\nexport default {\r\n    save(assetPack) {\r\n        const user = store.getters.user;\r\n        const db = firebase.db();\r\n\r\n        let purgedAssetPack = JSON.parse(JSON.stringify(assetPack));\r\n        for (var scene of purgedAssetPack.scenes) {\r\n            firebase.saveImage(db, scene);\r\n            purgedAssetPack.scenes.splice(purgedAssetPack.scenes.indexOf(scene), 1, scene.id);\r\n        }\r\n        for (var character of purgedAssetPack.characters) {\r\n            firebase.saveImage(db, character);\r\n            purgedAssetPack.characters.splice(purgedAssetPack.characters.indexOf(character), 1, character.id);\r\n        }\r\n\r\n        firebase.saveWithDb(db, \"assetPacks\", assetPack.id, purgedAssetPack);\r\n        firebase.saveWithDb(db, \"assetPackKeys\", assetPack.id, {id: assetPack.id, name: assetPack.name});\r\n        this.saveUsersAssetPacks(db, user, assetPack);\r\n    },\r\n\r\n    async saveUsersAssetPacks(db, user, assetPack) {\r\n        window.console.log(\"saveUsersAssetPacks\");\r\n        let usersAssetPacks = await firebase.loadWithDb(db, \"users-assetPacks\", user.id);\r\n        window.console.log(usersAssetPacks);\r\n        window.console.log(db + user + assetPack);\r\n        if (!usersAssetPacks.assetPacks) {\r\n            usersAssetPacks.assetPacks = [];\r\n        }\r\n        if (!usersAssetPacks.assetPacks.includes(assetPack.id)) {\r\n            usersAssetPacks.assetPacks.push(assetPack.id);\r\n        }\r\n        firebase.saveWithDb(db, \"users-assetPacks\", user.id, usersAssetPacks);\r\n    },\r\n\r\n    async loadAll() {\r\n        window.console.log(\"loadAssetPacks\");\r\n        const db = firebase.db();\r\n        const user = store.getters.user;\r\n        let usersAssetPacks = await firebase.loadWithDb(db, \"users-assetPacks\", user.id);\r\n        if (usersAssetPacks.assetPacks) {\r\n            let assetPacks = [];\r\n            for (let assetPackId of usersAssetPacks.assetPacks) {\r\n                assetPacks.push(await this.loadWithDb(db, assetPackId));\r\n            }\r\n            window.console.log(assetPacks);\r\n            return assetPacks;\r\n        } else {\r\n            return [];\r\n        }\r\n    },\r\n\r\n    async load(id) {\r\n        window.console.log(\"loadAssetPack \" + id);\r\n        const db = firebase.db();\r\n        const assetPack = await firebase.loadWithDb(db, \"assetPacks\", id);\r\n        for (var characterId of assetPack.characters) {\r\n            assetPack.characters.splice(assetPack.characters.indexOf(characterId), 1, await images.getImageWithDb(db, characterId));\r\n        }\r\n    \r\n        for (var sceneId of assetPack.scenes) {\r\n            assetPack.scenes.splice(assetPack.scenes.indexOf(sceneId), 1, await images.getImageWithDb(db, sceneId));\r\n        }\r\n        return assetPack;\r\n    },\r\n\r\n    async loadWithDb(db, id) {\r\n        return await firebase.loadWithDb(db, \"assetPacks\", id);\r\n    }\r\n}","<template>\r\n    <div class=\"page menu\">\r\n        <h2>Asset Packs</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n            <button class=\"button\" @click=\"download\" title=\"Download new asset packs from the cloud\">Download</button>\r\n            <button class=\"button\" @click=\"newPack\" title=\"Create a new asset pack\">New</button>\r\n        </span>\r\n        <button class=\"wideMenu button\" v-for=\"pack in assetPacks\" :key=\"pack.id\" @click=\"viewPack(pack)\" :title=\"'View asset pack ' + pack.name\">{{ pack.name }}</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport assets from \"./assets.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPacks: []\r\n        }\r\n    },\r\n    async mounted() {\r\n        const ap = await assets.loadAll();\r\n        window.console.log(\"ap\");\r\n        window.console.log(ap);\r\n        this.assetPacks = ap;\r\n    },\r\n    methods: {\r\n        back() {\r\n            this.$router.push(\"/\");\r\n        },\r\n        newPack() {\r\n            this.$router.push(\"/assets/update/new\");\r\n        },\r\n        viewPack(pack) {\r\n            this.$router.push('/assets/view/' + pack.id)\r\n        },\r\n        download() {\r\n            this.$router.push('assets/download');\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssetMenu.vue?vue&type=template&id=53e5748a&\"\nimport script from \"./AssetMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AssetMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Update Assets\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")])]),_c('h2',[_vm._v(\"Asset pack\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.assetPack.name),expression:\"assetPack.name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.assetPack.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.assetPack, \"name\", $event.target.value)}}})]),_c('hr'),_c('h2',[_vm._v(\"Current assets\")]),_c('button',{staticClass:\"button danger\",on:{\"click\":_vm.removeAssets}},[_vm._v(\"Remove\")]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.assetPack.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenesToDelete),expression:\"selectedScenesToDelete\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenesToDelete)?_vm._i(_vm.selectedScenesToDelete,scene.name)>-1:(_vm.selectedScenesToDelete)},on:{\"change\":function($event){var $$a=_vm.selectedScenesToDelete,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenesToDelete=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenesToDelete=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenesToDelete=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.assetPack.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharactersToDelete),expression:\"selectedCharactersToDelete\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharactersToDelete)?_vm._i(_vm.selectedCharactersToDelete,character.name)>-1:(_vm.selectedCharactersToDelete)},on:{\"change\":function($event){var $$a=_vm.selectedCharactersToDelete,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharactersToDelete=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharactersToDelete=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharactersToDelete=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0),_c('hr'),_c('h2',[_vm._v(\"Add from existing project\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.addUpdateAssetPack}},[_vm._v(\"Add\")]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.story.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenes),expression:\"selectedScenes\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenes)?_vm._i(_vm.selectedScenes,scene.name)>-1:(_vm.selectedScenes)},on:{\"change\":function($event){var $$a=_vm.selectedScenes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenes=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.story.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharacters),expression:\"selectedCharacters\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharacters)?_vm._i(_vm.selectedCharacters,character.name)>-1:(_vm.selectedCharacters)},on:{\"change\":function($event){var $$a=_vm.selectedCharacters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharacters=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharacters=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharacters=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Update Assets</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"save\">Save</button>\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n        </span>\r\n\r\n        <h2>Asset pack</h2>\r\n        <span class=\"field\">\r\n            <label>Name</label>\r\n            <input type=\"text\" v-model=\"assetPack.name\" />\r\n        </span>\r\n\r\n        <hr/>\r\n\r\n        <h2>Current assets</h2>\r\n        <button class=\"button danger\" @click=\"removeAssets\">Remove</button>\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in assetPack.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenesToDelete\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in assetPack.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharactersToDelete\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n\r\n        <hr/>\r\n\r\n        <h2>Add from existing project</h2>\r\n        <button class=\"button\" @click=\"addUpdateAssetPack\">Add</button>\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in story.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenes\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in story.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharacters\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport assets from \"./assets.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPack: {\r\n                id: uuidv4(),\r\n                scenes: [],\r\n                characters: []\r\n            },\r\n            story: {},\r\n            selectedScenesToDelete: [],\r\n            selectedCharactersToDelete: [],\r\n            selectedScenes: [],\r\n            selectedCharacters: []\r\n        }\r\n    },\r\n    async mounted() {\r\n        const assetId = this.$route.params.assetId;\r\n        if (assetId !== \"new\") {\r\n            this.assetPack = await assets.load(assetId);\r\n        }\r\n        this.story = this.$store.getters.story;\r\n    },\r\n    computed: {\r\n        hasAssetPack() {\r\n            return Object.keys(this.assetPack).length > 0;\r\n        }\r\n    },\r\n    methods: {\r\n        createNew() {\r\n            this.assetPack = {\r\n                name: \"\"\r\n            }\r\n        },\r\n        addUpdateAssetPack() {\r\n            for (var selectedScene of this.selectedScenes) {\r\n                this.assetPack.scenes.push(this.story.scenes.find(scene => scene.name === selectedScene));\r\n            }\r\n            for (var selectedCharacter of this.selectedCharacters) {\r\n                this.assetPack.characters.push(this.story.characters.find(character => character.name === selectedCharacter));\r\n            }\r\n        },\r\n\r\n        save() {\r\n            assets.save(this.assetPack);\r\n            // this.$store.commit(\"updateAssetPack\", this.assetPack);\r\n            this.$router.push('/assets/view/' + this.assetPack.id);\r\n        },\r\n\r\n        removeAssets() {\r\n            for (var scene of this.selectedScenesToDelete) {\r\n                this.assetPack.scenes.splice(this.assetPack.scenes.indexOf(scene), 1);\r\n            }\r\n            for (var character of this.selectedCharactersToDelete) {\r\n                this.assetPack.characters.splice(this.assetPack.characters.indexOf(character), 1);\r\n            }\r\n        },\r\n        back() {\r\n            this.$router.push('/assets/view/' + this.assetPack.id);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateAssets.vue?vue&type=template&id=3555c0f0&\"\nimport script from \"./UpdateAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.assetPack.name))]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",attrs:{\"title\":\"Edit this asset pack\"},on:{\"click\":_vm.edit}},[_vm._v(\"Edit\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")])]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.assetPack.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenes),expression:\"selectedScenes\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenes)?_vm._i(_vm.selectedScenes,scene.name)>-1:(_vm.selectedScenes)},on:{\"change\":function($event){var $$a=_vm.selectedScenes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenes=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.assetPack.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharacters),expression:\"selectedCharacters\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharacters)?_vm._i(_vm.selectedCharacters,character.name)>-1:(_vm.selectedCharacters)},on:{\"change\":function($event){var $$a=_vm.selectedCharacters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharacters=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharacters=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharacters=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0),(_vm.selectedScenes.length > 0 || _vm.selectedCharacters.length > 0)?_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button wideMenu\",attrs:{\"title\":\"Imports selected assets into current project\"},on:{\"click\":_vm.importToProject}},[_vm._v(\"Import to Project\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ assetPack.name }}</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"edit\" title=\"Edit this asset pack\">Edit</button>\r\n<!--            <button class=\"button danger\" @click=\"deletePack\" title=\"Remove this asset pack permanently\">Delete</button>-->\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n        </span>\r\n\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in assetPack.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenes\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in assetPack.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharacters\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <span class=\"buttons\" v-if=\"selectedScenes.length > 0 || selectedCharacters.length > 0\">\r\n            <button class=\"button wideMenu\" @click=\"importToProject\" title=\"Imports selected assets into current project\">Import to Project</button>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport assets from \"./assets.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPack: {},\r\n            selectedScenes: [],\r\n            selectedCharacters: []\r\n        }\r\n    },\r\n    async mounted() {\r\n        const assetId = this.$route.params.assetId;\r\n        this.assetPack = await assets.load(assetId);\r\n    },\r\n    methods: {\r\n        importToProject() {\r\n            const updates = {\r\n                scenes: [],\r\n                characters: []\r\n            }\r\n            for (var selectedScene of this.selectedScenes) {\r\n                updates.scenes.push(this.assetPack.scenes.find(scene => scene.name === selectedScene));\r\n            }\r\n            for (var selectedCharacter of this.selectedCharacters) {\r\n                updates.characters.push(this.assetPack.characters.find(character => character.name === selectedCharacter));\r\n            }\r\n            window.console.log(\"updating\");\r\n            window.console.log(updates);\r\n\r\n            this.$store.commit(\"importAssetsToStory\", updates);\r\n            this.$router.push(\"/edit\");\r\n        },\r\n        edit() {\r\n            this.$router.push('/assets/update/' + this.assetPack.id);\r\n        },\r\n        deletePack() {\r\n            // this.$store.commit(\"deleteAssetPack\", this.assetPack.id);\r\n            this.$router.push(\"/\");\r\n        },\r\n        back() {\r\n            this.$router.push('/assets');\r\n        },\r\n        clickMe() {\r\n            window.console.log(\"click me\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewAssets.vue?vue&type=template&id=53b8b32f&\"\nimport script from \"./ViewAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page menu\"},[_c('h1',[_vm._v(\"Download asset packs\")]),_vm._l((_vm.assetPackList),function(assetPack){return _c('button',{key:assetPack.id,staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.download(assetPack)}}},[_vm._v(\"Download \"+_vm._s(assetPack.name))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page menu\">\r\n        <h1>Download asset packs</h1>\r\n        <button class=\"wideMenu button\" v-for=\"assetPack in assetPackList\" :key=\"assetPack.id\" @click=\"download(assetPack)\">Download {{ assetPack.name }}</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"@/firebase.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPackList: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.assetPackList = firebase.getAssetPackList();\r\n    },\r\n    methods: {\r\n        async download(assetPack) {\r\n            const downloadedAssetPack = await firebase.loadAssetPack(assetPack.id);\r\n            window.console.log(downloadedAssetPack);\r\n            // this.$store.commit(\"updateAssetPack\", downloadedAssetPack);\r\n            this.$router.push('/assets/view/' + downloadedAssetPack.id);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DownloadAssets.vue?vue&type=template&id=83ba21f4&\"\nimport script from \"./DownloadAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./DownloadAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page menu\"},[_c('h1',[_vm._v(\"Login\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Username\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),(_vm.errorMessage)?_c('span',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.createUser}},[_vm._v(\"Create User\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.login}},[_vm._v(\"Login\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { v4 as uuidv4 } from 'uuid';\r\nimport firebase from \"@/firebase.js\";\r\nimport md5 from 'md5';\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n    hash(password) {\r\n        return md5(password);\r\n    },\r\n    register(username, password) {\r\n        const user = {\r\n            id: uuidv4(),\r\n            username: username,\r\n            password: this.hash(password)\r\n        }\r\n        firebase.save(\"users\", user.id, user);\r\n        return user;\r\n    },\r\n    async authenticate(username, password) {\r\n        const user = await firebase.search(\"users\", {field: \"username\", value: username});\r\n        const valid = user.password === this.hash(password);\r\n        window.console.log(\"Result of auth \" + valid + \", \" + user.password + \", \" + this.hash(password));\r\n        if (valid) {\r\n            store.commit(\"auth\", user);\r\n        }\r\n        return valid;\r\n    }\r\n}","<template>\r\n    <div class=\"page menu\">\r\n        <h1>Login</h1>\r\n        <span class=\"field\">\r\n            <label>Username</label>\r\n            <input type=\"text\" v-model=\"username\" />\r\n        </span>\r\n        <span class=\"field\">\r\n            <label>Password</label>\r\n            <input type=\"password\" v-model=\"password\" />\r\n        </span>\r\n        <span class=\"error\" v-if=\"errorMessage\">{{ errorMessage }}</span>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"createUser\">Create User</button>\r\n            <button class=\"button\" @click=\"login\">Login</button>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport auth from './auth.js';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: \"\",\r\n            password: \"\",\r\n            errorMessage: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        async login() {\r\n            if (await auth.authenticate(this.username, this.password)) {\r\n                this.$router.push(\"/\");\r\n            } else {\r\n                this.errorMessage = \"Invalid\";\r\n            }\r\n        },\r\n        createUser() {\r\n            this.$router.push(\"/auth/create\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=fa182528&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page menu\"},[_c('h1',[_vm._v(\"Register\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Username\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.createUser}},[_vm._v(\"Create\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page menu\">\r\n        <h1>Register</h1>\r\n        <span class=\"field\">\r\n            <label>Username</label>\r\n            <input type=\"text\" v-model=\"username\" />\r\n        </span>\r\n        <span class=\"field\">\r\n            <label>Password</label>\r\n            <input type=\"password\" v-model=\"password\" />\r\n        </span>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"createUser\">Create</button>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport auth from './auth.js';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: \"\",\r\n            password: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        createUser() {\r\n            const user = auth.register(this.username, this.password);\r\n            this.$store.commit(\"auth\", user);\r\n            this.$router.push(\"/\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=d4dbad86&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Play')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <Play />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport editor from \"@/pages/editor/editor.js\";\r\nimport Play from \"@/pages/play/Play.vue\";\r\nimport store from \"@/store.js\";\r\n\r\nexport default {\r\n    components: { Play },\r\n    async mounted() {\r\n        const storyId = this.$route.params.storyId;\r\n        let story = await editor.loadPublicStory(storyId);\r\n        story = await editor.loadStory(story);\r\n        store.commit(\"save\", story);\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicStory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicStory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicStory.vue?vue&type=template&id=1a1dec03&\"\nimport script from \"./PublicStory.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicStory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router';\r\n\r\n// Menus\r\nimport Home from \"@/pages/Home.vue\";\r\nimport Menu from \"@/pages/Menu.vue\";\r\n\r\n// Editor\r\nimport Editor from \"@/pages/editor/Editor.vue\";\r\nimport Scenes from \"@/pages/editor/Scenes.vue\";\r\nimport Characters from \"@/pages/editor/Characters.vue\";\r\nimport Plan from \"@/pages/editor/Plan.vue\";\r\nimport DownloadStory from \"@/pages/DownloadStory.vue\";\r\n\r\n// Play\r\nimport Play from \"@/pages/play/Play.vue\";\r\n\r\n// Assets\r\nimport AssetMenu from \"@/pages/assets/AssetMenu.vue\";\r\nimport UpdateAssets from \"@/pages/assets/UpdateAssets.vue\";\r\nimport ViewAssets from \"@/pages/assets/ViewAssets.vue\";\r\nimport DownloadAssets from \"@/pages/assets/DownloadAssets.vue\";\r\n\r\n// Auth\r\nimport Login from \"@/pages/auth/Login.vue\";\r\nimport Register from \"@/pages/auth/Register.vue\";\r\n\r\nimport PublicStory from \"@/pages/PublicStory.vue\";\r\n\r\nconst routes = [\r\n    { path: '/', component: Home },\r\n    { path: '/menu', component: Menu },\r\n    { path: '/edit', component: Editor },\r\n    { path: '/edit/scenes', component: Scenes },\r\n    { path: '/edit/characters', component: Characters },\r\n    { path: '/edit/plan', component: Plan },\r\n    { path: '/play', component: Play },\r\n    { path: '/assets', component: AssetMenu },\r\n    { path: '/assets/update/:assetId', component: UpdateAssets },\r\n    { path: '/assets/view/:assetId', component: ViewAssets },\r\n    { path: '/assets/download', component: DownloadAssets },\r\n    { path: '/story/download', component: DownloadStory },\r\n    { path: '/auth/login', component: Login },\r\n    { path: '/auth/create', component: Register },\r\n    { path: '/public/:storyId', component: PublicStory }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: \"hash\",\r\n    routes\r\n});\r\n\r\nVue.use(VueRouter);\r\n\r\nexport default router;","import Vue from 'vue'\nimport App from './App.vue'\nimport store from \"./store.js\";\nimport router from \"./routes.js\";\n\nVue.config.productionTip = false\n\nimport firebase from 'firebase';\nconst config = {\n  apiKey: \"AIzaSyDdFELo568ztJgq07FAO8mhRyUq8TKUeyQ\",\n  authDomain: \"storymaker-3002d.firebaseapp.com\",\n  databaseURL: \"https://storymaker-3002d.firebaseio.com\",\n  projectId: \"storymaker-3002d\",\n  storageBucket: \"storymaker-3002d.appspot.com\",\n  messagingSenderId: \"846763549713\",\n  appId: \"1:846763549713:web:581d08961adbee051efdb0\"\n}\nfirebase.initializeApp(config);\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\""],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?edd2","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/myLocalStorage.js","webpack:///./src/store.js","webpack:///./src/pages/Home.vue?200d","webpack:///./src/pages/assets/AssetMenu.vue?192a","webpack:///src/pages/assets/AssetMenu.vue","webpack:///./src/pages/assets/AssetMenu.vue?7a5b","webpack:///./src/pages/assets/AssetMenu.vue","webpack:///src/pages/Home.vue","webpack:///./src/pages/Home.vue?2c60","webpack:///./src/pages/Home.vue","webpack:///./src/pages/Menu.vue?3671","webpack:///./src/components/UploadFile.vue?419b","webpack:///src/components/UploadFile.vue","webpack:///./src/components/UploadFile.vue?0d64","webpack:///./src/components/UploadFile.vue","webpack:///src/pages/Menu.vue","webpack:///./src/pages/Menu.vue?95f1","webpack:///./src/pages/Menu.vue","webpack:///./src/pages/editor/Editor.vue?2a12","webpack:///src/pages/editor/Editor.vue","webpack:///./src/pages/editor/Editor.vue?9dce","webpack:///./src/pages/editor/Editor.vue","webpack:///./src/pages/editor/Scenes.vue?aae3","webpack:///src/pages/editor/Scenes.vue","webpack:///./src/pages/editor/Scenes.vue?96bf","webpack:///./src/pages/editor/Scenes.vue","webpack:///./src/pages/editor/Characters.vue?5269","webpack:///./src/pages/play/Canvas.vue?1483","webpack:///src/pages/play/Canvas.vue","webpack:///./src/pages/play/Canvas.vue?26bf","webpack:///./src/pages/play/Canvas.vue","webpack:///src/pages/editor/Characters.vue","webpack:///./src/pages/editor/Characters.vue?5538","webpack:///./src/pages/editor/Characters.vue","webpack:///./src/pages/editor/Plan.vue?53bd","webpack:///src/pages/editor/Plan.vue","webpack:///./src/pages/editor/Plan.vue?cd55","webpack:///./src/pages/editor/Plan.vue","webpack:///./src/pages/play/Play.vue?8d6b","webpack:///src/pages/play/Play.vue","webpack:///./src/pages/play/Play.vue?e01b","webpack:///./src/pages/play/Play.vue","webpack:///./src/pages/assets/UpdateAssets.vue?7686","webpack:///src/pages/assets/UpdateAssets.vue","webpack:///./src/pages/assets/UpdateAssets.vue?ef80","webpack:///./src/pages/assets/UpdateAssets.vue","webpack:///./src/pages/assets/ViewAssets.vue?01bf","webpack:///./src/firebase.js","webpack:///src/pages/assets/ViewAssets.vue","webpack:///./src/pages/assets/ViewAssets.vue?7104","webpack:///./src/pages/assets/ViewAssets.vue","webpack:///./src/pages/assets/DownloadAssets.vue?44ac","webpack:///src/pages/assets/DownloadAssets.vue","webpack:///./src/pages/assets/DownloadAssets.vue?9b9e","webpack:///./src/pages/assets/DownloadAssets.vue","webpack:///./src/routes.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/pages/editor/Scenes.vue?fd24","webpack:///./src/pages/editor/Characters.vue?e820"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","STORY_KEYS","STORY","ASSET_PACK","ASSET_PACK_KEYS","getItem","console","log","localStorage","JSON","parse","setItem","stringValue","stringify","removeItem","loadStoryKeys","savedStories","saveStoryKeys","storyKeys","saveStory","story","updateStory","id","title","storyKeyIndex","findIndex","str","loadStory","storyId","loadAssetPack","saveAssetPack","assetPack","loadAssetPackKeys","assetPackKeyIndex","ap","updateAssetPack","saveAssetPackKeys","assetPackKeys","deleteAssetPack","assetPackId","filter","Vue","use","Vuex","Store","state","uuidv4","scenes","characters","plan","stories","myLocalStorage","assetPacks","getters","mutations","update","openNew","close","save","load","importAssetsToStory","updates","concat","staticClass","_v","on","newStory","_l","sty","$event","_s","newPack","pack","viewPack","download","$router","model","callback","$$v","importedStory","expression","exportStory","getId","uploadFile","class","labelClass","label","directives","rawName","domProps","target","composing","$set","scene","index","character","addScene","image","deleteScene","addCharacter","deleteCharacter","width","height","$emit","newItem","item","undefined","$$selectedVal","Array","options","selected","map","val","_value","multiple","sceneIndex","changeScene","characterIndex","changeCharacter","text","nextStep","back","removeAssets","isArray","selectedScenesToDelete","_i","$$a","$$el","$$c","checked","$$i","selectedCharactersToDelete","addUpdateAssetPack","selectedScenes","selectedCharacters","importToProject","edit","uploadToFirebase","deletePack","db","firebase","firestore","purgedAssetPack","saveImage","indexOf","collection","doc","set","then","exists","catch","err","characterId","loadImage","sceneId","getAssetPackList","results","snapshot","forEach","routes","path","Home","Menu","Editor","Scenes","Characters","Plan","Play","UpdateAssets","ViewAssets","DownloadAssets","router","VueRouter","config","productionTip","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","store","render","h","App","$mount"],"mappings":"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","file":"js/app.a8137062.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"app\">\n        <router-view />\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"App\",\n}\n</script>\n\n<style lang=\"scss\">\n@import \"styles/global\";\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0085b531&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const STORY_KEYS = \"stories\";\r\nconst STORY = \"story\";\r\nconst ASSET_PACK = \"assetPack\";\r\nconst ASSET_PACK_KEYS = \"assetPackKeys\";\r\n\r\nconst getItem = function(key) {\r\n    window.console.log(\"MyLocalStorage # [STORE] getItem (\" + key + \")\");\r\n    const value = window.localStorage.getItem(key);\r\n    window.console.log(\"RES: \" + value);\r\n    return JSON.parse(value);\r\n}\r\n\r\nconst setItem = function(key, value) {\r\n    window.console.log(\"MyLocalStorage # [STORE] setItem (\" + key + \")\");\r\n    const stringValue = JSON.stringify(value);\r\n    window.console.log(\"RES: \" + stringValue);\r\n    window.localStorage.setItem(key, stringValue);\r\n}\r\n\r\nconst removeItem = function(key) {\r\n    window.console.log(\"MyLocalStorage # [STORE] removeItem (\" + key + \")\");\r\n    window.localStorage.removeItem(key);\r\n}\r\n\r\n\r\nexport default {\r\n    // STORIES\r\n\r\n    loadStoryKeys() {\r\n        window.console.log(\"MyLocalStorage # [story] loadStoryKeys\");\r\n        const savedStories = getItem(STORY_KEYS);\r\n        if (!savedStories) {\r\n            return [];\r\n        } else {\r\n            return savedStories;\r\n        }\r\n    },\r\n\r\n    saveStoryKeys(storyKeys) {\r\n        window.console.log(\"MyLocalStorage # [story] saveStoryKeys (storyKeys)\");\r\n        window.console.log(storyKeys);\r\n        setItem(STORY_KEYS, storyKeys);\r\n    },\r\n\r\n    saveStory(story) {\r\n        window.console.log(\"MyLocalStorage # [story] saveStory (story)\");\r\n        window.console.log(story);\r\n\r\n        // Update story keys\r\n        let storyKeys = this.loadStoryKeys();\r\n        const updateStory = {id: story.id, name: story.title};\r\n        const storyKeyIndex = storyKeys.findIndex(str => str.id === story.id);\r\n        if (storyKeyIndex === -1) {\r\n            storyKeys.push(updateStory);\r\n            this.saveStoryKeys(storyKeys);\r\n        } else {\r\n            storyKeys.splice(storyKeyIndex, 1, updateStory);\r\n        }\r\n        this.saveStoryKeys(storyKeys);\r\n\r\n        // Update story\r\n        const key = STORY + \".\" + story.id;\r\n        setItem(key, story);\r\n    },\r\n\r\n    loadStory(storyId) {\r\n        window.console.log(\"MyLocalStorage # [story] loadStory (storyId)\");\r\n        window.console.log(storyId);\r\n        const key = STORY + \".\" + storyId;\r\n        return getItem(key);\r\n    },\r\n\r\n    // ASSET PACKS\r\n\r\n    loadAssetPack(id) {\r\n        window.console.log(\"MyLocalStorage # [assets] loadAssetPack (id)\");\r\n        window.console.log(id);\r\n        const key = ASSET_PACK + \".\" + id;\r\n        return getItem(key);\r\n    },\r\n\r\n    saveAssetPack(assetPack) {\r\n        window.console.log(\"MyLocalStorage # [assets] saveAssetPack (assetPack)\");\r\n        window.console.log(assetPack);\r\n        \r\n        // update keys\r\n        let loadAssetPackKeys = this.loadAssetPackKeys();\r\n        const assetPackKeyIndex = loadAssetPackKeys.findIndex(ap => ap.id === assetPack.id);\r\n        window.console.log(\"index is \" + assetPackKeyIndex);\r\n        const updateAssetPack = {id: assetPack.id, name: assetPack.name};\r\n        if (assetPackKeyIndex === -1) {\r\n            loadAssetPackKeys.push(updateAssetPack);\r\n            this.saveAssetPackKeys(loadAssetPackKeys);\r\n        } else {\r\n            loadAssetPackKeys.splice(assetPackKeyIndex, 1, updateAssetPack);\r\n        }\r\n        this.saveAssetPackKeys(loadAssetPackKeys);\r\n\r\n        // update pack\r\n        const key = ASSET_PACK + \".\" + assetPack.id;\r\n        setItem(key, assetPack);\r\n    },\r\n\r\n    loadAssetPackKeys() {\r\n        window.console.log(\"MyLocalStorage # [assets] loadAssetPackKeys\");\r\n        let assetPackKeys = getItem(ASSET_PACK_KEYS);\r\n        if (!assetPackKeys) {\r\n            return [];\r\n        } else {\r\n            return assetPackKeys;\r\n        }\r\n    },\r\n\r\n    saveAssetPackKeys(assetPackKeys) {\r\n        window.console.log(\"MyLocalStorage # [assets] saveAssetPackKeys (assetPackKeys\");\r\n        window.console.log(assetPackKeys);\r\n        setItem(ASSET_PACK_KEYS, assetPackKeys);\r\n    },\r\n\r\n    deleteAssetPack(assetPackId) {\r\n        window.console.log(\"MyLocalStorage # [assets] deleteAssetPack (assetPackId)\");\r\n        window.console.log(assetPackId);\r\n        let loadAssetPackKeys = this.loadAssetPackKeys();\r\n        loadAssetPackKeys = loadAssetPackKeys.filter(key => key.id !== assetPackId);\r\n        this.saveAssetPackKeys(loadAssetPackKeys);\r\n\r\n        const key = ASSET_PACK + \".\" + assetPackId;\r\n        removeItem(key);\r\n    }\r\n}","\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex);\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport myLocalStorage from \"@/myLocalStorage.js\";\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        story: {\r\n            id: uuidv4(),\r\n            scenes: [],\r\n            characters: [],\r\n            plan: []\r\n        },\r\n        stories: myLocalStorage.loadStoryKeys(),\r\n        assetPacks: myLocalStorage.loadAssetPackKeys()\r\n    },\r\n    getters: {\r\n        story(state) {\r\n            window.console.log(\"getting story in store\");\r\n            window.console.log(\"story is\");\r\n            window.console.log(state.story);\r\n            return state.story;\r\n        },\r\n        stories(state) {\r\n            return state.stories;\r\n        },\r\n        assetPacks() {\r\n            return myLocalStorage.loadAssetPackKeys();\r\n        },\r\n        assetPack() {\r\n            return id => myLocalStorage.loadAssetPack(id);\r\n        }\r\n    },\r\n    mutations: {\r\n        update(state, story) {\r\n            window.console.log(\"updating story in store\");\r\n            state.story = story;\r\n        },\r\n        openNew(state) {\r\n            state.story = {\r\n                id: uuidv4(),\r\n                title: \"\",\r\n                scenes: [],\r\n                characters: [],\r\n                plan: []\r\n            }\r\n        },\r\n        close(state) {\r\n            state.story = {}\r\n        },\r\n        save(state, story) {       \r\n            this.state.story = story;\r\n            myLocalStorage.saveStory(state.story);\r\n            state.stories = myLocalStorage.loadStoryKeys();\r\n        },\r\n        load(state, storyId) {\r\n            state.story = myLocalStorage.loadStory(storyId);\r\n        },\r\n        updateAssetPack(state, assetPack) {\r\n            myLocalStorage.saveAssetPack(assetPack);\r\n\r\n        },\r\n        importAssetsToStory(state, updates) {\r\n            if (updates.scenes) {\r\n                state.story.scenes = state.story.scenes.concat(updates.scenes);\r\n            }\r\n            if (updates.characters) {\r\n                state.story.characters = state.story.characters.concat(updates.characters);\r\n            }\r\n        },\r\n        deleteAssetPack(state, assetPackId) {\r\n            myLocalStorage.deleteAssetPack(assetPackId);\r\n        }\r\n    }\r\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Story Maker\")]),_c('h2',[_vm._v(\"Stories\")]),_c('button',{staticClass:\"wideMenu button\",on:{\"click\":_vm.newStory}},[_vm._v(\"New\")]),_vm._l((_vm.stories),function(sty){return _c('button',{key:sty.id,staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.loadStory(sty)}}},[_vm._v(\"Load \"+_vm._s(sty.name))])}),_c('hr'),_c('AssetMenu')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Asset Packs\")]),_c('button',{staticClass:\"wideMenu button\",attrs:{\"title\":\"Create a new asset pack\"},on:{\"click\":_vm.newPack}},[_vm._v(\"New\")]),_vm._l((_vm.assetPacks),function(pack){return _c('button',{key:pack.id,staticClass:\"wideMenu button\",attrs:{\"title\":'View asset pack ' + pack.name},on:{\"click\":function($event){return _vm.viewPack(pack)}}},[_vm._v(_vm._s(pack.name))])}),_c('button',{staticClass:\"wideMenu button\",attrs:{\"title\":\"Download new asset packs from the cloud\"},on:{\"click\":_vm.download}},[_vm._v(\"Download from Cloud\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <h2>Asset Packs</h2>\r\n        <button class=\"wideMenu button\" @click=\"newPack\" title=\"Create a new asset pack\">New</button>\r\n        <button class=\"wideMenu button\" v-for=\"pack in assetPacks\" :key=\"pack.id\" @click=\"viewPack(pack)\" :title=\"'View asset pack ' + pack.name\">{{ pack.name }}</button>\r\n        <button class=\"wideMenu button\" @click=\"download\" title=\"Download new asset packs from the cloud\">Download from Cloud</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    computed: {\r\n        assetPacks() {\r\n            return this.$store.getters.assetPacks;\r\n        }\r\n    },\r\n    methods: {\r\n        newPack() {\r\n            this.$router.push(\"/assets/update/new\");\r\n        },\r\n        viewPack(pack) {\r\n            this.$router.push('/assets/view/' + pack.id)\r\n        },\r\n        download() {\r\n            this.$router.push('assets/download');\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssetMenu.vue?vue&type=template&id=126ab89a&\"\nimport script from \"./AssetMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AssetMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <h1>Story Maker</h1>\r\n        <h2>Stories</h2>\r\n        <button class=\"wideMenu button\" @click=\"newStory\">New</button>        \r\n        <button class=\"wideMenu button\" v-for=\"sty in stories\" :key=\"sty.id\" @click=\"loadStory(sty)\">Load {{ sty.name }}</button>\r\n        <hr />\r\n\r\n        <AssetMenu />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AssetMenu from \"@/pages/assets/AssetMenu.vue\";\r\n\r\nexport default {\r\n    components: { AssetMenu },\r\n    computed: {\r\n        stories() {\r\n            return this.$store.getters.stories;\r\n        }\r\n    },\r\n    methods: {\r\n        newStory() {\r\n            this.$store.commit(\"openNew\");\r\n            this.$router.push(\"/menu\");\r\n        },\r\n        loadStory(story) {\r\n            this.$store.commit(\"load\", story.id);\r\n            this.$router.push(\"/menu\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=07a074f7&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.story.title ? _vm.story.title : \"New Story\"))]),_c('button',{staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.$router.push('/play')}}},[_vm._v(\"Play\")]),_c('button',{staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Edit\")]),_c('button',{staticClass:\"wideMenu button\",on:{\"click\":_vm.close}},[_vm._v(\"Close\")]),_c('hr'),_c('UploadFile',{attrs:{\"labelClass\":\"wideMenu\",\"text\":true,\"id\":\"uploadStory\",\"label\":\"Import\"},model:{value:(_vm.importedStory),callback:function ($$v) {_vm.importedStory=$$v},expression:\"importedStory\"}}),_c('button',{staticClass:\"wideMenu button\",on:{\"click\":_vm.exportStory}},[_vm._v(\"Export\")]),_c('AssetMenu')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"upload\"},[_c('input',{attrs:{\"id\":_vm.getId,\"type\":\"file\"},on:{\"change\":function($event){return _vm.uploadFile($event)}}}),_c('label',{class:['button', _vm.labelClass],attrs:{\"for\":_vm.getId}},[_vm._v(_vm._s(_vm.label ? _vm.label : 'Upload'))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <span class=\"upload\">\r\n        <input :id=\"getId\" type=\"file\" @change=\"uploadFile($event)\" />\r\n        <label :for=\"getId\" :class=\"['button', labelClass]\">{{ label ? label : 'Upload' }}</label>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: [\"value\", \"text\", \"id\", \"label\", \"labelClass\"],\r\n    data() {\r\n        return {\r\n            reader: new FileReader()\r\n        }\r\n    },\r\n    mounted() {\r\n        this.reader.addEventListener(\"load\", this.whenFileLoaded, false);\r\n    },\r\n    computed: {\r\n        getId() {\r\n            return this.id ? this.id : \"file\";\r\n        }\r\n    },\r\n    methods: {\r\n        uploadFile(event) {\r\n            window.console.log(\"upload file clicked\");\r\n            var file = event.target.files[0];\r\n            if (this.text) {\r\n                window.console.log(\"it's text\");\r\n                this.reader.readAsText(file);\r\n            } else {\r\n                this.reader.readAsDataURL(file);\r\n            }\r\n        },\r\n        whenFileLoaded() {\r\n            window.console.log(\"file loaded\");\r\n            this.$emit(\"input\", this.reader.result);\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadFile.vue?vue&type=template&id=199811ac&\"\nimport script from \"./UploadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ story.title ? story.title : \"New Story\" }}</h1>\r\n        <button class=\"wideMenu button\" @click=\"$router.push('/play')\">Play</button>\r\n        <button class=\"wideMenu button\" @click=\"$router.push('/edit')\">Edit</button>\r\n        <button class=\"wideMenu button\" @click=\"close\">Close</button>\r\n        \r\n        <hr />\r\n        <UploadFile labelClass=\"wideMenu\" v-model=\"importedStory\" :text=\"true\" id=\"uploadStory\" label=\"Import\" />\r\n        <button class=\"wideMenu button\" @click=\"exportStory\">Export</button>\r\n\r\n        <AssetMenu />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadFile from \"@/components/UploadFile.vue\";\r\nimport AssetMenu from \"@/pages/assets/AssetMenu.vue\";\r\n\r\nexport default {\r\n    components: { UploadFile, AssetMenu },\r\n    data() {\r\n        return {\r\n            importedStory: {}\r\n        }\r\n    },\r\n    computed: {\r\n        story() {\r\n            window.console.log(\"getting story\");\r\n            return this.$store.getters.story;\r\n        }\r\n    },\r\n    watch: {\r\n        importedStory(uploadedStory) {\r\n            window.console.log(\"story imported\");\r\n            // this.story = JSON.parse(uloadedStory);\r\n            this.$store.commit(\"update\", JSON.parse(uploadedStory));\r\n        }\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.$store.commit(\"close\");\r\n            this.$router.push(\"/\");\r\n        },\r\n        exportStory() {\r\n            this.download(JSON.stringify(this.story), this.story.title.replace(/\\s/g, ''), \"json\");\r\n        },\r\n        download(data, filename, type) {\r\n            var file = new Blob([data], {type: type});\r\n            if (window.navigator.msSaveOrOpenBlob) {// IE10+\r\n                window.navigator.msSaveOrOpenBlob(file, filename);\r\n            } else { // Others\r\n                var a = document.createElement(\"a\"),\r\n                url = URL.createObjectURL(file);\r\n                a.href = url;\r\n                a.download = filename;\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                setTimeout(function() {\r\n                    document.body.removeChild(a);\r\n                    window.URL.revokeObjectURL(url);  \r\n                }, 0); \r\n            }\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=7d2a9cf4&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Story Maker - Editor\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/play')}}},[_vm._v(\"Play\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_vm._v(\"Back\")])]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Story title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.story.title),expression:\"story.title\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.story.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.story, \"title\", $event.target.value)}}})]),_c('h2',[_vm._v(\"Scenes\")]),_c('p',[_vm._v(_vm._s(_vm.story.scenes ? _vm.story.scenes.length : 0)+\" scenes\")]),_c('ul',_vm._l((_vm.story.scenes),function(scene,index){return _c('li',{key:index},[_vm._v(_vm._s(scene.name))])}),0),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/scenes')}}},[_vm._v(\"Edit Scenes\")]),_c('h2',[_vm._v(\"Characters\")]),_c('p',[_vm._v(_vm._s(_vm.story.characters ? _vm.story.characters.length : 0)+\" characters\")]),_c('ul',_vm._l((_vm.story.characters),function(character,index){return _c('li',{key:index},[_vm._v(_vm._s(character.name))])}),0),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/characters')}}},[_vm._v(\"Edit Characters\")]),_c('h2',[_vm._v(\"Plan\")]),_c('p',[_vm._v(_vm._s(_vm.story.plan ? _vm.story.plan.length : 0)+\" steps in plan\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit/plan')}}},[_vm._v(\"Edit Plan\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Story Maker - Editor</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"save\">Save</button>\r\n            <button @click=\"$router.push('/play')\" class=\"button\">Play</button>\r\n            <button @click=\"$router.push('/menu')\" class=\"button\">Back</button>\r\n        </span>\r\n        \r\n        <span class=\"field\">\r\n            <label>Story title</label>\r\n            <input type=\"text\" v-model=\"story.title\" />\r\n        </span>\r\n\r\n        <h2>Scenes</h2>\r\n        <p>{{ story.scenes ? story.scenes.length : 0 }} scenes</p>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in story.scenes\" :key=\"index\">{{ scene.name }}</li>\r\n        </ul>\r\n        <button class=\"button\" @click=\"$router.push('/edit/scenes')\">Edit Scenes</button>\r\n\r\n        <h2>Characters</h2>\r\n        <p>{{ story.characters ? story.characters.length : 0 }} characters</p>\r\n        <ul>\r\n            <li v-for=\"(character, index) in story.characters\" :key=\"index\">{{ character.name }}</li>\r\n        </ul>\r\n        <button class=\"button\" @click=\"$router.push('/edit/characters')\">Edit Characters</button>\r\n\r\n        <h2>Plan</h2>\r\n        <p>{{ story.plan ? story.plan.length : 0 }} steps in plan</p>\r\n        <button class=\"button\" @click=\"$router.push('/edit/plan')\">Edit Plan</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Editor',\r\n    data() {\r\n        return {\r\n            uploadStory: \"\",\r\n            story: {}\r\n        }\r\n    },\r\n    mounted() {\r\n        this.story = this.$store.getters.story;\r\n    },\r\n    methods: {\r\n        downloadStory() {\r\n            this.download(JSON.stringify(this.story), \"my\", \"story\");\r\n        },\r\n        save() {\r\n            this.$store.commit(\"save\", this.story);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=8560f39c&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Scenes\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.addScene}},[_vm._v(\"New Scene\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist box\"},_vm._l((_vm.scenes),function(scene){return _c('li',{key:scene.id},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scene.name),expression:\"scene.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(scene.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scene, \"name\", $event.target.value)}}}),_c('img',{attrs:{\"src\":scene.image}}),_c('span',{staticClass:\"buttons\"},[_c('UploadFile',{attrs:{\"id\":'uploadScene' + scene.id},model:{value:(scene.image),callback:function ($$v) {_vm.$set(scene, \"image\", $$v)},expression:\"scene.image\"}}),_c('button',{staticClass:\"button danger\",on:{\"click\":function($event){return _vm.deleteScene(scene)}}},[_vm._v(\"Delete\")])],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h2>Scenes</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"addScene\">New Scene</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist box\">\r\n            <li v-for=\"scene in scenes\" :key=\"scene.id\">\r\n                <input type=\"text\" v-model=\"scene.name\" placeholder=\"Name\" />\r\n                <img :src=\"scene.image\" />\r\n                <span class=\"buttons\">\r\n                    <UploadFile v-model=\"scene.image\" :id=\"'uploadScene' + scene.id\" />\r\n                    <button class=\"button danger\" @click=\"deleteScene(scene)\">Delete</button>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadFile from \"@/components/UploadFile.vue\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default {\r\n    components: { UploadFile },\r\n    data() {\r\n        return {\r\n            scenes: [],\r\n            checkedScenes: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.scenes = this.$store.getters.story.scenes;\r\n    },\r\n    methods: {\r\n        addScene() {\r\n            this.scenes.push({\r\n                id: uuidv4(),\r\n                name: \"\",\r\n                image: \"\"\r\n            });\r\n        },\r\n        deleteScene(scene) {\r\n            this.scenes.splice(this.scenes.indexOf(scene), 1);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n    display: inline-block;\r\n    max-height: 400px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scenes.vue?vue&type=template&id=37e6d2f1&scoped=true&\"\nimport script from \"./Scenes.vue?vue&type=script&lang=js&\"\nexport * from \"./Scenes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37e6d2f1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Characters\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.addCharacter}},[_vm._v(\"New Character\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist box\"},_vm._l((_vm.characters),function(character){return _c('li',{key:character.id},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.name),expression:\"character.name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(character.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"name\", $event.target.value)}}}),_c('img',{attrs:{\"src\":character.image}}),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Speech Box Colour\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.colour),expression:\"character.colour\"}],attrs:{\"type\":\"color\"},domProps:{\"value\":(character.colour)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"colour\", $event.target.value)}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Y-Offset\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.yoffset),expression:\"character.yoffset\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(character.yoffset)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"yoffset\", $event.target.value)}}})]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Scale\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(character.scale),expression:\"character.scale\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(character.scale)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(character, \"scale\", $event.target.value)}}})]),_c('Canvas',{attrs:{\"id\":'canvas' + character.id,\"width\":304,\"height\":190,\"character\":character,\"text\":\"Hi\"}}),_c('span',{staticClass:\"buttons\"},[_c('UploadFile',{attrs:{\"id\":'uploadCharacter' + character.id},model:{value:(character.image),callback:function ($$v) {_vm.$set(character, \"image\", $$v)},expression:\"character.image\"}}),_c('button',{staticClass:\"button danger\",on:{\"click\":function($event){return _vm.deleteCharacter(character)}}},[_vm._v(\"Delete\")])],1)],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":_vm.id,\"width\":_vm.width,\"height\":_vm.height},on:{\"click\":function($event){return _vm.$emit('nextStep')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <canvas :id=\"id\" :width=\"width\" :height=\"height\" @click=\"$emit('nextStep')\" />\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport jcanvas from 'jcanvas';\r\n\r\njcanvas($, window);\r\n\r\nexport default {\r\n    props: [\"id\", \"width\", \"height\", \"scene\", \"character\", \"text\"],\r\n    data() {\r\n        return {\r\n            characterImageMeta: {\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        window.console.log(\"\");\r\n        window.console.log(this.id + \" mounted\");\r\n        this.loadMetadata();\r\n        this.draw();\r\n    },\r\n    watch: {\r\n        scene: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" scene updated\");\r\n                this.draw();\r\n            },\r\n            deep: true\r\n        },\r\n        character: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" character updated\");\r\n                this.loadMetadata();\r\n            },\r\n            deep: true\r\n        },\r\n        characterImageMeta: {\r\n            handler() {\r\n                window.console.log(\"\");\r\n                window.console.log(this.id + \" image meta updated\");\r\n                this.draw();\r\n            },\r\n            deep: true\r\n        },\r\n        text() {\r\n            window.console.log(\"\");\r\n            window.console.log(this.id + \" text updated\");\r\n            this.draw();\r\n        }\r\n    },\r\n    computed: {\r\n        xscale() {\r\n            return this.width / 800;\r\n        },\r\n        yscale() {\r\n            return this.height / 500;\r\n        }\r\n    },\r\n    methods: {\r\n        draw() {\r\n            window.console.log(this.id + \" draw ******\");\r\n            window.console.log(\"scene? \" + (this.scene !== false));\r\n            window.console.log(\"character? \" + (this.character !== false));\r\n            const canvas = this.id ? $(\"#\" + this.id) : $(\"canvas\");\r\n            canvas.clearCanvas();\r\n\r\n            this.drawBorder(canvas);\r\n            this.drawScene(canvas);\r\n            this.drawCharacter(canvas);\r\n            this.drawText(canvas);\r\n        },\r\n        drawBorder(canvas) {\r\n            canvas.drawRect({\r\n                strokeStyle: '#c33',\r\n                strokeWidth: 1,\r\n                x: 1,\r\n                y: 1,\r\n                width: this.width - 2,\r\n                height: this.height - 2,\r\n                fromCenter: false\r\n            });\r\n        },\r\n        drawScene(canvas) {\r\n            if (this.scene && this.scene.image) {\r\n                canvas.drawImage({\r\n                    source: this.scene.image,\r\n                    x: 2,\r\n                    y: 2,\r\n                    width: this.width - 4,\r\n                    height: this.height - 4,\r\n                    scale: 1,\r\n                    fromCenter: false\r\n                });\r\n            }\r\n        },\r\n        drawCharacter(canvas) {\r\n            if (this.character && this.character.image) {\r\n                const y = 200 * this.yscale + (this.character.yoffset ? parseInt(this.character.yoffset) * 5 : 0);\r\n                const characterScale = this.character.scale ? parseFloat(this.character.scale) : 1;\r\n                window.console.log(\"width: \" + this.characterImageMeta.width * this.xscale);\r\n                window.console.log(\"height: \" + this.characterImageMeta.height * this.yscale);\r\n                canvas.drawImage({\r\n                    source: this.character.image,\r\n                    x: 10 * this.xscale,\r\n                    y: y,\r\n                    width: this.characterImageMeta.width * this.xscale * characterScale,\r\n                    height: this.characterImageMeta.height * this.yscale * characterScale,\r\n                    fromCenter: false\r\n                });\r\n                \r\n            }\r\n        },\r\n        drawText(canvas) {\r\n            const bgCol = this.character.colour ? this.character.colour : '#69A0D7';\r\n            const bgBorderCol = '#2D4258';\r\n            const textCol = '#ECF3FA';\r\n            // write text\r\n            canvas.drawRect({\r\n                fillStyle: bgCol,\r\n                x: 20 * this.xscale,\r\n                y: 20 * this.yscale,\r\n                width: 770 * this.xscale,\r\n                height: 80 * this.yscale,\r\n                fromCenter: false,\r\n                cornerRadius: 4\r\n            });\r\n            canvas.drawRect({\r\n                strokeStyle: bgBorderCol,\r\n                x: 24 * this.xscale,\r\n                y: 24 * this.yscale,\r\n                width: 762 * this.xscale,\r\n                height: 72 * this.yscale,\r\n                fromCenter: false,\r\n                cornerRadius: 2\r\n            });\r\n            canvas.drawText({\r\n                name: \"drawText\",\r\n                fillStyle: textCol,\r\n                strokeWidth: 1,\r\n                x: 34 * this.xscale, y: 34 * this.yscale,\r\n                fontSize: (18 * this.xscale) + 'pt',\r\n                fromCenter: false,\r\n                text: \"\\\"\" + this.text + \"\\\"\"\r\n            });\r\n            canvas.drawText({\r\n                name: \"drawText\",\r\n                fillStyle: textCol,\r\n                strokeWidth: 1,\r\n                x: 45 * this.xscale, y: 74 * this.yscale,\r\n                fontSize: (18 * this.xscale) + 'pt',\r\n                text: \"...\"\r\n            });\r\n        },\r\n        loadMetadata() {\r\n            let img = new Image();\r\n\r\n            img.onload = () => {\r\n                window.console.log(\"loaded metadata\");\r\n                this.characterImageMeta.width = img.width;\r\n                this.characterImageMeta.height = img.height;\r\n                this.draw();\r\n            }\r\n\r\n            img.src = this.character.image;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=f0f539ce&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page\">\r\n        <h2>Characters</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"addCharacter\">New Character</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist box\">\r\n            <li v-for=\"character in characters\" :key=\"character.id\">\r\n                <input type=\"text\" v-model=\"character.name\" placeholder=\"Name\" />\r\n                <img :src=\"character.image\" />\r\n                <span class=\"field\">\r\n                    <label>Speech Box Colour</label>\r\n                    <input type=\"color\" v-model=\"character.colour\" />\r\n                </span>\r\n                <span class=\"field\">\r\n                    <label>Y-Offset</label>\r\n                    <input type=\"number\" v-model=\"character.yoffset\" />\r\n                </span>\r\n                <span class=\"field\">\r\n                    <label>Scale</label>\r\n                    <input type=\"number\" v-model=\"character.scale\" />\r\n                </span>\r\n                <Canvas :id=\"'canvas' + character.id\" :width=\"304\" :height=\"190\" :character=\"character\" text=\"Hi\" />\r\n                <span class=\"buttons\">\r\n                    <UploadFile v-model=\"character.image\" :id=\"'uploadCharacter' + character.id\" />\r\n                    <button class=\"button danger\" @click=\"deleteCharacter(character)\">Delete</button>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadFile from \"@/components/UploadFile.vue\";\r\nimport Canvas from \"@/pages/play/Canvas.vue\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default {\r\n    components: { UploadFile, Canvas },\r\n    data() {\r\n        return {\r\n            characters: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.characters = this.$store.getters.story.characters;\r\n    },\r\n    methods: {\r\n        addCharacter() {\r\n            this.characters.push({\r\n                id: uuidv4(),\r\n                name: \"\",\r\n                image: \"\",\r\n                colour: \"#69A0D7\",\r\n                yoffset: 0,\r\n                scale: 1\r\n            });\r\n        },\r\n        deleteCharacter(character) {\r\n            this.characters.splice(this.characters.indexOf(character), 1);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n    display: inline-block;\r\n    max-height: 400px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Characters.vue?vue&type=template&id=7ad5c17b&scoped=true&\"\nimport script from \"./Characters.vue?vue&type=script&lang=js&\"\nexport * from \"./Characters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ad5c17b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h2',[_vm._v(\"Plan\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.newItem}},[_vm._v(\"New\")]),_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/edit')}}},[_vm._v(\"Back\")])]),_c('ul',{staticClass:\"editlist\"},_vm._l((_vm.plan),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(index + 1))]),_c('span',{staticClass:\"content\"},[(item.scene !== undefined)?_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Scene: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.scene),expression:\"item.scene\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"scene\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.scenes),function(scene,sceneIndex){return _c('option',{key:sceneIndex},[_vm._v(_vm._s(scene.name))])}),0)]):_c('button',{staticClass:\"button small\",on:{\"click\":function($event){return _vm.changeScene(item)}}},[_vm._v(\"Change scene\")]),(item.character !== undefined)?_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Character: \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.character),expression:\"item.character\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"character\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.characters),function(character,characterIndex){return _c('option',{key:characterIndex},[_vm._v(_vm._s(character.name))])}),0)]):_c('button',{staticClass:\"button small\",on:{\"click\":function($event){return _vm.changeCharacter(item)}}},[_vm._v(\"Change character\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Message: \")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.text),expression:\"item.text\"}],domProps:{\"value\":(item.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"text\", $event.target.value)}}})])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h2>Plan</h2>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"newItem\">New</button>\r\n            <button class=\"button\" @click=\"$router.push('/edit')\">Back</button>\r\n        </span>\r\n        <ul class=\"editlist\">\r\n            <li v-for=\"(item, index) in plan\" :key=\"index\">\r\n                <span class=\"number\">{{ index + 1 }}</span>\r\n                <span class=\"content\">\r\n                    <span v-if=\"item.scene !== undefined\" class=\"field\">\r\n                        <label>Scene: </label>\r\n                        <select v-model=\"item.scene\">\r\n                            <option v-for=\"(scene, sceneIndex) in scenes\" :key=\"sceneIndex\">{{ scene.name }}</option>\r\n                        </select>\r\n                    </span>\r\n                    <button class=\"button small\" v-else @click=\"changeScene(item)\">Change scene</button>\r\n\r\n                    <span v-if=\"item.character !== undefined\" class=\"field\">\r\n                        <label>Character: </label>\r\n                        <select v-model=\"item.character\">\r\n                            <option v-for=\"(character, characterIndex) in characters\" :key=\"characterIndex\">{{ character.name }}</option>\r\n                        </select>\r\n                    </span>\r\n                    <button class=\"button small\" v-else @click=\"changeCharacter(item)\">Change character</button>\r\n\r\n                    <span class=\"field\">\r\n                        <label>Message: </label>\r\n                        <textarea v-model=\"item.text\"></textarea>\r\n                    </span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            plan: [],\r\n            scenes: [],\r\n            characters: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.plan = this.$store.getters.story.plan;\r\n        this.scenes = this.$store.getters.story.scenes;\r\n        this.characters = this.$store.getters.story.characters;\r\n    },\r\n    methods: {\r\n        newItem() {\r\n            this.plan.push({scene: undefined, character: undefined, text: \"\"});\r\n        },\r\n        changeScene(item) {\r\n            item.scene = \"\";\r\n        },\r\n        changeCharacter(item) {\r\n            item.character = \"\";\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Plan.vue?vue&type=template&id=edfd2dce&\"\nimport script from \"./Plan.vue?vue&type=script&lang=js&\"\nexport * from \"./Plan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.story.title))]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){return _vm.$router.push('/menu')}}},[_vm._v(\"Stop\")])]),_c('Canvas',{attrs:{\"id\":\"canvas1\",\"width\":800,\"height\":500,\"scene\":this.scene,\"character\":this.character,\"text\":_vm.text},on:{\"nextStep\":_vm.nextStep}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ story.title }}</h1>\r\n        <span class=\"buttons\">\r\n            <button @click=\"$router.push('/menu')\" class=\"button\">Stop</button>\r\n        </span>\r\n        <Canvas id=\"canvas1\" :width=\"800\" :height=\"500\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" />\r\n        <!--\r\n        <Canvas id=\"canvas2\" :width=\"480\" :height=\"300\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" />\r\n        <Canvas id=\"canvas3\" :width=\"320\" :height=\"200\" @nextStep=\"nextStep\" :scene=\"this.scene\" :character=\"this.character\" :text=\"text\" />\r\n        -->\r\n        <!--<canvas width=\"800\" height=\"500\" @click=\"nextStep\" />-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\nimport jcanvas from 'jcanvas';\r\nimport Canvas from \"./Canvas.vue\";\r\n\r\njcanvas($, window);\r\n\r\nexport default {\r\n    name: \"Play\",\r\n    components: { Canvas },\r\n    data() {\r\n        return {\r\n            story: {},\r\n            scene: {},\r\n            character: {},\r\n            characterImageMeta: {\r\n                width: 0,\r\n                height: 0\r\n            },\r\n            text: \"\",\r\n            index: 0\r\n        }\r\n    },\r\n    mounted() {\r\n        this.story = this.$store.getters.story;\r\n        this.update();\r\n    },\r\n    methods: {\r\n        update() {\r\n            const planItem = this.story.plan[this.index];\r\n            if (planItem.scene) {\r\n                this.scene = this.story.scenes.find(scene => scene.name === planItem.scene);\r\n            }\r\n            if (planItem.character) {\r\n                this.character = this.story.characters.find(character => character.name === planItem.character);\r\n            }\r\n            if (planItem.text) {\r\n                this.text = planItem.text;\r\n            }\r\n            this.loadMetadataAndDraw();\r\n        },\r\n        nextStep() {\r\n            this.index++;\r\n            if (this.index >= this.story.plan.length) {\r\n                this.$router.push(\"/\");\r\n            } else {\r\n                this.update();\r\n            }\r\n        },\r\n        // draw() {\r\n        //     const canvas = $(\"canvas\");\r\n        //     canvas.clearCanvas();\r\n\r\n        //     // border\r\n        //     canvas.drawRect({\r\n        //         strokeStyle: '#c33',\r\n        //         strokeWidth: 1,\r\n        //         x: 1,\r\n        //         y: 1,\r\n        //         width: 798,\r\n        //         height: 498,\r\n        //         fromCenter: false\r\n        //     });\r\n\r\n        //     // draw scene\r\n        //     canvas.drawImage({\r\n        //         source: this.scene.image,\r\n        //         x: 0,\r\n        //         y: 0,\r\n        //         width: 798,\r\n        //         height: 498,\r\n        //         scale: 1,\r\n        //         fromCenter: false\r\n        //     });\r\n\r\n        //     // draw character\r\n        //     const yscale = 500 - this.characterImageMeta.height + (this.character.yoffset ? parseInt(this.character.yoffset) : 0);\r\n        //     const scale = this.character.scale ? parseFloat(this.character.scale) : 1;\r\n        //     canvas.drawImage({\r\n        //         source: this.character.image,\r\n        //         x: 0,\r\n        //         y: yscale,\r\n        //         scale: scale,\r\n        //         fromCenter: false\r\n        //     });\r\n\r\n        //     const bgCol = this.character.colour; //'#69A0D7';\r\n        //     const bgBorderCol = '#2D4258';\r\n        //     const textCol = '#ECF3FA';\r\n        //     // write text\r\n        //     canvas.drawRect({\r\n        //         fillStyle: bgCol,\r\n        //         x: 20,\r\n        //         y: 20,\r\n        //         width: 770,\r\n        //         height: 80,\r\n        //         fromCenter: false,\r\n        //         cornerRadius: 4\r\n        //     });\r\n        //     canvas.drawRect({\r\n        //         strokeStyle: bgBorderCol,\r\n        //         x: 24,\r\n        //         y: 24,\r\n        //         width: 762,\r\n        //         height: 72,\r\n        //         fromCenter: false,\r\n        //         cornerRadius: 2\r\n        //     });\r\n        //     canvas.drawText({\r\n        //         name: \"drawText\",\r\n        //         fillStyle: textCol,\r\n        //         strokeWidth: 1,\r\n        //         x: 34, y: 34,\r\n        //         fontSize: '18pt',\r\n        //         fromCenter: false,\r\n        //         text: \"\\\"\" + this.text + \"\\\"\"\r\n        //     });\r\n        //     canvas.drawText({\r\n        //         name: \"drawText\",\r\n        //         fillStyle: textCol,\r\n        //         strokeWidth: 1,\r\n        //         x: 45, y: 74,\r\n        //         fontSize: '18pt',\r\n        //         text: \"...\"\r\n        //     });\r\n        // },\r\n        loadMetadataAndDraw() {\r\n            let img = new Image();\r\n\r\n            img.onload = () => {\r\n                this.characterImageMeta.width = img.width;\r\n                this.characterImageMeta.height = img.height;\r\n                // this.draw();\r\n            }\r\n\r\n            img.src = this.character.image;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Play.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Play.vue?vue&type=template&id=5a7d5f06&\"\nimport script from \"./Play.vue?vue&type=script&lang=js&\"\nexport * from \"./Play.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Update Assets\")]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")])]),_c('h2',[_vm._v(\"Asset pack\")]),_c('span',{staticClass:\"field\"},[_c('label',[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.assetPack.name),expression:\"assetPack.name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.assetPack.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.assetPack, \"name\", $event.target.value)}}})]),_c('hr'),_c('h2',[_vm._v(\"Current assets\")]),_c('button',{staticClass:\"button danger\",on:{\"click\":_vm.removeAssets}},[_vm._v(\"Remove\")]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.assetPack.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenesToDelete),expression:\"selectedScenesToDelete\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenesToDelete)?_vm._i(_vm.selectedScenesToDelete,scene.name)>-1:(_vm.selectedScenesToDelete)},on:{\"change\":function($event){var $$a=_vm.selectedScenesToDelete,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenesToDelete=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenesToDelete=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenesToDelete=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.assetPack.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharactersToDelete),expression:\"selectedCharactersToDelete\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharactersToDelete)?_vm._i(_vm.selectedCharactersToDelete,character.name)>-1:(_vm.selectedCharactersToDelete)},on:{\"change\":function($event){var $$a=_vm.selectedCharactersToDelete,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharactersToDelete=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharactersToDelete=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharactersToDelete=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0),_c('hr'),_c('h2',[_vm._v(\"Add from existing project\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.addUpdateAssetPack}},[_vm._v(\"Add\")]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.story.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenes),expression:\"selectedScenes\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenes)?_vm._i(_vm.selectedScenes,scene.name)>-1:(_vm.selectedScenes)},on:{\"change\":function($event){var $$a=_vm.selectedScenes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenes=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.story.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharacters),expression:\"selectedCharacters\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharacters)?_vm._i(_vm.selectedCharacters,character.name)>-1:(_vm.selectedCharacters)},on:{\"change\":function($event){var $$a=_vm.selectedCharacters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharacters=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharacters=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharacters=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Update Assets</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"save\">Save</button>\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n        </span>\r\n\r\n        <h2>Asset pack</h2>\r\n        <span class=\"field\">\r\n            <label>Name</label>\r\n            <input type=\"text\" v-model=\"assetPack.name\" />\r\n        </span>\r\n\r\n        <hr/>\r\n\r\n        <h2>Current assets</h2>\r\n        <button class=\"button danger\" @click=\"removeAssets\">Remove</button>\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in assetPack.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenesToDelete\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in assetPack.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharactersToDelete\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n\r\n        <hr/>\r\n\r\n        <h2>Add from existing project</h2>\r\n        <button class=\"button\" @click=\"addUpdateAssetPack\">Add</button>\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in story.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenes\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in story.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharacters\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPack: {\r\n                id: uuidv4(),\r\n                scenes: [],\r\n                characters: []\r\n            },\r\n            story: {},\r\n            selectedScenesToDelete: [],\r\n            selectedCharactersToDelete: [],\r\n            selectedScenes: [],\r\n            selectedCharacters: []\r\n        }\r\n    },\r\n    mounted() {\r\n        const assetId = this.$route.params.assetId;\r\n        if (assetId !== \"new\") {\r\n            this.assetPack = this.$store.getters.assetPack(assetId);\r\n        }\r\n\r\n        this.story = this.$store.getters.story;\r\n    },\r\n    computed: {\r\n        hasAssetPack() {\r\n            return Object.keys(this.assetPack).length > 0;\r\n        }\r\n    },\r\n    methods: {\r\n        createNew() {\r\n            this.assetPack = {\r\n                name: \"\"\r\n            }\r\n        },\r\n        addUpdateAssetPack() {\r\n            for (var selectedScene of this.selectedScenes) {\r\n                this.assetPack.scenes.push(this.story.scenes.find(scene => scene.name === selectedScene));\r\n            }\r\n            for (var selectedCharacter of this.selectedCharacters) {\r\n                this.assetPack.characters.push(this.story.characters.find(character => character.name === selectedCharacter));\r\n            }\r\n        },\r\n\r\n        save() {\r\n            this.$store.commit(\"updateAssetPack\", this.assetPack);\r\n            this.$router.push('/assets/view/' + this.assetPack.id);\r\n        },\r\n\r\n        removeAssets() {\r\n            for (var scene of this.selectedScenesToDelete) {\r\n                this.assetPack.scenes.splice(this.assetPack.scenes.indexOf(scene), 1);\r\n            }\r\n            for (var character of this.selectedCharactersToDelete) {\r\n                this.assetPack.characters.splice(this.assetPack.characters.indexOf(character), 1);\r\n            }\r\n        },\r\n        back() {\r\n            if (this.story.title) {\r\n                this.$router.push('/menu');\r\n            } else {\r\n                this.$router.push('/');\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateAssets.vue?vue&type=template&id=be9d1d5e&\"\nimport script from \"./UpdateAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(_vm._s(_vm.assetPack.name))]),_c('span',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button\",attrs:{\"title\":\"Imports selected assets into current project\"},on:{\"click\":_vm.importToProject}},[_vm._v(\"Import to Project\")]),_c('button',{staticClass:\"button\",attrs:{\"title\":\"Edit this asset pack\"},on:{\"click\":_vm.edit}},[_vm._v(\"Edit\")]),_c('button',{staticClass:\"button\",attrs:{\"title\":\"Upload this asset pack to the cloud for others to access\"},on:{\"click\":_vm.uploadToFirebase}},[_vm._v(\"Upload to Cloud\")]),_c('button',{staticClass:\"button danger\",attrs:{\"title\":\"Remove this asset pack permanently\"},on:{\"click\":_vm.deletePack}},[_vm._v(\"Delete\")]),_c('button',{staticClass:\"button\",on:{\"click\":_vm.back}},[_vm._v(\"Back\")])]),_c('h3',[_vm._v(\"Scenes\")]),_c('ul',_vm._l((_vm.assetPack.scenes),function(scene,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedScenes),expression:\"selectedScenes\"}],attrs:{\"type\":\"checkbox\",\"id\":'scene' + index},domProps:{\"value\":scene.name,\"checked\":Array.isArray(_vm.selectedScenes)?_vm._i(_vm.selectedScenes,scene.name)>-1:(_vm.selectedScenes)},on:{\"change\":function($event){var $$a=_vm.selectedScenes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=scene.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedScenes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedScenes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedScenes=$$c}}}}),_c('label',{attrs:{\"for\":'scene' + index}},[_vm._v(_vm._s(scene.name))])])}),0),_c('h3',[_vm._v(\"Characters\")]),_c('ul',_vm._l((_vm.assetPack.characters),function(character,index){return _c('li',{key:index},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedCharacters),expression:\"selectedCharacters\"}],attrs:{\"type\":\"checkbox\",\"id\":'character' + index},domProps:{\"value\":character.name,\"checked\":Array.isArray(_vm.selectedCharacters)?_vm._i(_vm.selectedCharacters,character.name)>-1:(_vm.selectedCharacters)},on:{\"change\":function($event){var $$a=_vm.selectedCharacters,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=character.name,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedCharacters=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedCharacters=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedCharacters=$$c}}}}),_c('label',{attrs:{\"for\":'character' + index}},[_vm._v(_vm._s(character.name))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import firebase from 'firebase';\r\n\r\nexport default {\r\n    saveAssetPack(assetPack) {\r\n        window.console.log(\"Firebase # saveAssetPack\");\r\n        window.console.log(assetPack);\r\n        const db = firebase.firestore();\r\n\r\n        let purgedAssetPack = JSON.parse(JSON.stringify(assetPack));\r\n        for (var scene of purgedAssetPack.scenes) {\r\n            this.saveImage(db, scene);\r\n            purgedAssetPack.scenes.splice(purgedAssetPack.scenes.indexOf(scene), 1, scene.id);\r\n        }\r\n        for (var character of purgedAssetPack.characters) {\r\n            this.saveImage(db, character);\r\n            purgedAssetPack.characters.splice(purgedAssetPack.characters.indexOf(character), 1, character.id);\r\n        }\r\n\r\n        db.collection(\"assetPacks\")\r\n            .doc(assetPack.id)\r\n            .set(purgedAssetPack);\r\n\r\n        db.collection(\"assetPackKeys\")\r\n            .doc(assetPack.id)\r\n            .set({id: assetPack.id, name: assetPack.name});\r\n    },\r\n\r\n    async loadAssetPack(assetPackId) {\r\n        window.console.log(\"Firebase # loadAssetPack(\" + assetPackId + \")\");\r\n        let assetPack = {};\r\n        const db = firebase.firestore();\r\n        await db.collection(\"assetPacks\")\r\n            .doc(assetPackId)\r\n            .get()\r\n            .then(doc => assetPack = doc.exists ? doc.data() : {})\r\n            .catch(err => window.console.log(\"Error\", err));\r\n\r\n        for (var characterId of assetPack.characters) {\r\n            const image = await this.loadImage(db, characterId);\r\n            assetPack.characters.splice(assetPack.characters.indexOf(characterId), 1, image);\r\n        }\r\n\r\n        for (var sceneId of assetPack.scenes) {\r\n            const image = await this.loadImage(db, sceneId);\r\n            assetPack.scenes.splice(assetPack.scenes.indexOf(sceneId), 1, image);\r\n        }\r\n\r\n        return assetPack;\r\n    },\r\n\r\n    getAssetPackList() {\r\n        window.console.log(\"Firebase # getAssetPackList\");\r\n        const results = [];\r\n        const db = firebase.firestore();\r\n        db.collection(\"assetPackKeys\")\r\n            .get()\r\n            .then(snapshot => snapshot.forEach(doc => results.push(doc.data())))\r\n            .catch(err => window.console.log(\"Error\", err));\r\n        return results;\r\n    },\r\n    saveImage(db, image) {\r\n        window.console.log(\"Firebase # saveImage\");\r\n        window.console.log(image);\r\n        db.collection(\"images\")\r\n            .doc(image.id)\r\n            .set(image);\r\n    },\r\n    async loadImage(db, id) {\r\n        let image = {};\r\n        await db.collection(\"images\")\r\n            .doc(id)\r\n            .get()\r\n            .then(doc => image = doc.exists ? doc.data() : {})\r\n            .catch(err => window.console.log(\"Error\", err));\r\n        return image;\r\n    }\r\n}","<template>\r\n    <div class=\"page\">\r\n        <h1>{{ assetPack.name }}</h1>\r\n        <span class=\"buttons\">\r\n            <button class=\"button\" @click=\"importToProject\" title=\"Imports selected assets into current project\">Import to Project</button>\r\n            <button class=\"button\" @click=\"edit\" title=\"Edit this asset pack\">Edit</button>\r\n            <button class=\"button\" @click=\"uploadToFirebase\" title=\"Upload this asset pack to the cloud for others to access\">Upload to Cloud</button>\r\n            <button class=\"button danger\" @click=\"deletePack\" title=\"Remove this asset pack permanently\">Delete</button>\r\n            <button class=\"button\" @click=\"back\">Back</button>\r\n        </span>\r\n\r\n        <h3>Scenes</h3>\r\n        <ul>\r\n            <li v-for=\"(scene, index) in assetPack.scenes\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'scene' + index\" :value=\"scene.name\" v-model=\"selectedScenes\"/>\r\n                <label :for=\"'scene' + index\">{{ scene.name }}</label>\r\n            </li>\r\n        </ul>\r\n        <h3>Characters</h3>\r\n        <ul>\r\n            <li v-for=\"(character, index) in assetPack.characters\" :key=\"index\">\r\n                <input type=\"checkbox\" :id=\"'character' + index\" :value=\"character.name\" v-model=\"selectedCharacters\"/>\r\n                <label :for=\"'character' + index\">{{ character.name }}</label>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"@/firebase.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPack: {},\r\n            selectedScenes: [],\r\n            selectedCharacters: []\r\n        }\r\n    },\r\n    mounted() {\r\n        const assetId = this.$route.params.assetId;\r\n        window.console.log(assetId);\r\n        this.assetPack = this.$store.getters.assetPack(assetId);\r\n    },\r\n    methods: {\r\n        importToProject() {\r\n            const updates = {\r\n                scenes: [],\r\n                characters: []\r\n            }\r\n            for (var selectedScene of this.selectedScenes) {\r\n                updates.scenes.push(this.assetPack.scenes.find(scene => scene.name === selectedScene));\r\n            }\r\n            for (var selectedCharacter of this.selectedCharacters) {\r\n                updates.characters.push(this.assetPack.characters.find(character => character.name === selectedCharacter));\r\n            }\r\n            window.console.log(\"updating\");\r\n            window.console.log(updates);\r\n\r\n            this.$store.commit(\"importAssetsToStory\", updates);\r\n            this.$router.push(\"/edit\");\r\n        },\r\n        edit() {\r\n            this.$router.push('/assets/update/' + this.assetPack.id);\r\n        },\r\n        deletePack() {\r\n            this.$store.commit(\"deleteAssetPack\", this.assetPack.id);\r\n            this.$router.push(\"/\");\r\n        },\r\n        back() {\r\n            if (this.$store.getters.story.title) {\r\n                this.$router.push('/menu');\r\n            } else {\r\n                this.$router.push('/');\r\n            }\r\n        },\r\n        uploadToFirebase() {\r\n            window.console.log(\"click uploadToFirebase\");\r\n            firebase.saveAssetPack(this.assetPack);\r\n        },\r\n        clickMe() {\r\n            window.console.log(\"click me\");\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewAssets.vue?vue&type=template&id=847a61a6&\"\nimport script from \"./ViewAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Download asset packs\")]),_vm._l((_vm.assetPackList),function(assetPack){return _c('button',{key:assetPack.id,staticClass:\"wideMenu button\",on:{\"click\":function($event){return _vm.download(assetPack)}}},[_vm._v(\"Download \"+_vm._s(assetPack.name))])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <h1>Download asset packs</h1>\r\n        <button class=\"wideMenu button\" v-for=\"assetPack in assetPackList\" :key=\"assetPack.id\" @click=\"download(assetPack)\">Download {{ assetPack.name }}</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"@/firebase.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            assetPackList: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.assetPackList = firebase.getAssetPackList();\r\n    },\r\n    methods: {\r\n        async download(assetPack) {\r\n            const downloadedAssetPack = await firebase.loadAssetPack(assetPack.id);\r\n            window.console.log(downloadedAssetPack);\r\n            this.$store.commit(\"updateAssetPack\", downloadedAssetPack);\r\n            this.$router.push('/assets/view/' + downloadedAssetPack.id);\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadAssets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DownloadAssets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DownloadAssets.vue?vue&type=template&id=4da2e2be&\"\nimport script from \"./DownloadAssets.vue?vue&type=script&lang=js&\"\nexport * from \"./DownloadAssets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router';\r\nimport Home from \"@/pages/Home.vue\";\r\nimport Menu from \"@/pages/Menu.vue\";\r\nimport Editor from \"@/pages/editor/Editor.vue\";\r\nimport Scenes from \"@/pages/editor/Scenes.vue\";\r\nimport Characters from \"@/pages/editor/Characters.vue\";\r\nimport Plan from \"@/pages/editor/Plan.vue\";\r\nimport Play from \"@/pages/play/Play.vue\";\r\nimport UpdateAssets from \"@/pages/assets/UpdateAssets.vue\";\r\nimport ViewAssets from \"@/pages/assets/ViewAssets.vue\";\r\nimport DownloadAssets from \"@/pages/assets/DownloadAssets.vue\";\r\n\r\nconst routes = [\r\n    { path: '/', component: Home },\r\n    { path: '/menu', component: Menu },\r\n    { path: '/edit', component: Editor },\r\n    { path: '/edit/scenes', component: Scenes },\r\n    { path: '/edit/characters', component: Characters },\r\n    { path: '/edit/plan', component: Plan },\r\n    { path: '/play', component: Play },\r\n    { path: '/assets/update/:assetId', component: UpdateAssets },\r\n    { path: '/assets/view/:assetId', component: ViewAssets },\r\n    { path: '/assets/download', component: DownloadAssets }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: \"hash\",\r\n    routes\r\n});\r\n\r\nVue.use(VueRouter);\r\n\r\nexport default router;","import Vue from 'vue'\nimport App from './App.vue'\nimport store from \"./store.js\";\nimport router from \"./routes.js\";\n\nVue.config.productionTip = false\n\nimport firebase from 'firebase';\nconst config = {\n  apiKey: \"AIzaSyDdFELo568ztJgq07FAO8mhRyUq8TKUeyQ\",\n  authDomain: \"storymaker-3002d.firebaseapp.com\",\n  databaseURL: \"https://storymaker-3002d.firebaseio.com\",\n  projectId: \"storymaker-3002d\",\n  storageBucket: \"storymaker-3002d.appspot.com\",\n  messagingSenderId: \"846763549713\",\n  appId: \"1:846763549713:web:581d08961adbee051efdb0\"\n}\nfirebase.initializeApp(config);\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scenes.vue?vue&type=style&index=0&id=37e6d2f1&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Characters.vue?vue&type=style&index=0&id=7ad5c17b&scoped=true&lang=css&\""],"sourceRoot":""}